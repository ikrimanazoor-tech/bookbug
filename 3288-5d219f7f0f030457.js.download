!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=Error().stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="b58448ca-acee-4f5a-8dfd-a5cdb1b9633b",e._sentryDebugIdIdentifier="sentry-dbid-b58448ca-acee-4f5a-8dfd-a5cdb1b9633b")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"7cb832ac"};"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3288],{1121:(e,n,t)=>{t.d(n,{A:()=>l});var r=t(17844),i=t(93629),a=t(34837),o=t(25590);function l(e){return(0,a.Y)(o.Ay,(0,i._)((0,r._)({},e),{children:(0,a.Y)("path",{fillRule:"evenodd",d:"M11.47 8.47a.75.75 0 0 1 1.06 0l6 6a.75.75 0 1 1-1.06 1.06L12 10.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06l6-6Z",clipRule:"evenodd"})}))}},5375:(e,n,t)=>{t.d(n,{A:()=>_});var r=t(29935),i=t(12694),a=t(82643),o=t(34837),l=t(17844),s=t(12584),c=t(41114),u=t(39590);function d(){var e=(0,s._)(["\n  fragment UninstallDialogTheme on CustomTheme {\n    id\n    title\n  }\n"]);return d=function(){return e},e}function p(){var e=(0,s._)(["\n  mutation ThemesPreferencesUninstallDialogDeleteTheme(\n    $input: UninstallThemeInput!\n  ) {\n    uninstallTheme(input: $input) {\n      ... on CustomTheme {\n        id\n        ...UninstallDialogTheme\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return p=function(){return e},e}var h={},m=(0,c.J1)(d()),f=(0,c.J1)(p(),m),v=t(35897),g=t(73712),y=t(32924),S=t(21466),w=t(25227),b=t(43193);let _=function(e){var n,t,s=e.theme,c=e.onClose,d=e.refetchOptions,p=(0,v.A)(),m=p.showError,_=p.showConfirm,Y=(0,g.D)(),C=Y.setActiveTheme,k=Y.theme,A=d?[{query:d.queryDoc,variables:{installedThemesInput:d.input}}]:[],E=(0,i._)((n={onError:function(e){return m(e.message)},onCompleted:function(e){return(0,r._)(function(){var n;return(0,a.YH)(this,function(t){switch(null==(n=e.uninstallTheme)?void 0:n.__typename){case"UnauthorizedError":case"UserError":case"NotFoundError":m(e.uninstallTheme.message);break;case"CustomTheme":_("".concat(s.title," uninstalled")),c();break;default:m("Something went wrong")}return[2]})})()},refetchQueries:A},t=(0,l._)({},h,n),u.n(f,t)),2),D=E[0],x=E[1].loading;return(0,o.Y)(w.S,{children:(0,o.Y)(S.A,{prompt:"Uninstall ".concat(s.title),desc:"Are you sure you want to uninstall ".concat(s.title,"?"),icon:(0,o.Y)(b.A,{}),confirmText:"Uninstall Theme",onCancel:c,onConfirm:function(){return(0,r._)(function(){return(0,a.YH)(this,function(e){return"number"!=typeof s.id||x||(k.id===s.id&&C(y.kl.id),D({variables:{input:{themeId:s.id}}})),[2]})})()},loading:x,danger:!0})})}},5753:(e,n,t)=>{t.d(n,{L:()=>i,R:()=>r});var r="https://docs.replit.com/replit-workspace/ssh",i=".config/ssh/.authorized_keys"},16491:(e,n,t)=>{t.d(n,{A3:()=>g,A_:()=>v});var r=t(17844),i=t(93629),a=t(17459),o=t(34837),l=t(21462),s=t(26122),c=t(8032),u=t(58900),d=t(17554),p=t(42793),h=t(18712),m=t(91953),f=(0,p.AH)([h.wp.viewStyle,h.wp.colWithGap(4)]),v=(0,l.forwardRef)(function(e,n){var t=e.dataCy,l=(0,a._)(e,["dataCy"]);return(0,o.Y)(c.A,(0,i._)((0,r._)({},l),{"data-cy":t,ref:n,css:f}))}),g=(0,l.forwardRef)(function(e,n){var t=e.variant,l=e.color,c=(0,a._)(e,["variant","color"]),p=(0,u.CC)(d.h,"description");return(0,o.Y)(m.EY,(0,i._)((0,r._)({},(0,s.v)(c,{variant:void 0===t?"small":t,color:void 0===l?"dimmer":l},p)),{ref:n}))})},24857:(e,n,t)=>{t.d(n,{A:()=>l});var r=t(17844),i=t(93629),a=t(34837),o=t(25590);function l(e){return(0,a.Y)(o.Ay,(0,i._)((0,r._)({},e),{children:(0,a.Y)("path",{fillRule:"evenodd",d:"M12 3.75A3.25 3.25 0 0 0 8.75 7v.25h6.5V7A3.25 3.25 0 0 0 12 3.75Zm4.75 3.604V7a4.75 4.75 0 1 0-9.5 0v.354c-.444.125-.842.36-1.164.671L4.53 6.47a.75.75 0 0 0-1.06 1.06l1.85 1.85c-.046.2-.07.407-.07.62v3.25H3a.75.75 0 0 0 0 1.5h2.291a6.709 6.709 0 0 0 1.018 2.88l-1.84 1.84a.75.75 0 1 0 1.061 1.06l1.727-1.727A6.729 6.729 0 0 0 12 20.75a6.728 6.728 0 0 0 4.743-1.947l1.727 1.727a.75.75 0 1 0 1.06-1.06l-1.839-1.84a6.71 6.71 0 0 0 1.018-2.88H21a.75.75 0 0 0 0-1.5h-2.25V10c0-.213-.024-.42-.07-.62l1.85-1.85a.75.75 0 0 0-1.06-1.06l-1.556 1.555a2.747 2.747 0 0 0-1.164-.671Zm-5.5 1.396H8c-.69 0-1.25.56-1.25 1.25v4a5.251 5.251 0 0 0 4.5 5.197V8.75Zm1.5 10.447V8.75H16c.69 0 1.25.56 1.25 1.25v4a5.251 5.251 0 0 1-4.5 5.197Z",clipRule:"evenodd"})}))}},25587:(e,n,t)=>{t.d(n,{L:()=>r});var r=20},26221:(e,n,t)=>{t.d(n,{l:()=>r});function r(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.root,i=t.rootMargin,a=t.threshold;if("undefined"==typeof IntersectionObserver)return function(){};var o=new WeakMap,l=new IntersectionObserver(function(e){e.forEach(function(e){var t=o.get(e.target);if(!!t!==e.isIntersecting)if(e.isIntersecting){var r=n(e);"function"==typeof r?o.set(e.target,r):l.unobserve(e.target)}else t&&(t(e),o.delete(e.target))})},{root:r,rootMargin:i,threshold:void 0===a?1:a});return l.observe(e),function(){return l.disconnect()}}},32402:(e,n,t)=>{t.d(n,{n:()=>k});var r=t(34837),i=t(21462),a=t(44411),o=t(60188),l=t(68362),s=t(10573),c=t(70764),u=t(18712),d=t(40756),p=t(73455),h=t(9844),m=t(25227),f=t(80325),v=t(85801),g=t(33683),y=t(55929),S=(0,c.x)({loadingContainer:[u.wp.minHeight(80)]});function w(e){var n=e.goToNewPaymentMethodForm,t=(0,l.Q)(),c=t.loading,u=t.isOnTrialPlan,w=t.trialWillCancel,b=(0,s.y)(),_=b.paymentMethod,Y=b.loading,C=b.error,k=(0,i.useMemo)(function(){return u&&!w?(0,r.Y)(h.N,{colorway:"primary",icon:(0,r.Y)(v.A,{}),text:(0,r.FD)(r.FK,{children:["Adding a payment method will set your Replit ",a.en," ","membership to auto-renew at the end of the trial."]})}):(0,r.Y)(h.N,{colorway:"primary",icon:(0,r.Y)(v.A,{}),text:"Add a payment method to enable additional resource usage."})},[u,w]);return Y||c||null!=C?(0,r.Y)(m.S,{css:S.loadingContainer,justify:"center",align:"center",children:(0,r.Y)(g.A,{})}):(0,r.FD)(m.S,{gap:16,children:[null!=_?(0,r.Y)(m.S,{gap:16,children:(0,r.FD)(m.S,{row:!0,gap:8,align:"center",children:[(0,r.Y)(p.K0,{alt:"Update Payment Method",onClick:n,children:(0,r.Y)(f.A,{})}),(0,r.Y)(o.l,{last4:_.last4})]})}):null," ",null==_?(0,r.FD)(m.S,{gap:6,children:[k,(0,r.Y)(d.$n,{text:"Add Payment Method",iconLeft:(0,r.Y)(y.A,{}),onClick:n})]}):null]})}var b=t(24467),_=t(51286),Y=t(91953),C=t(33759);function k(){var e=(0,_.r)({step:"card_preferences"}),n=e.currentStep,t=e.goBack,i=e.goTo;switch(n.step){case"card_preferences":return(0,r.Y)(w,{goToNewPaymentMethodForm:function(){return i({step:"new_payment_method_form"})}});case"new_payment_method_form":return(0,r.FD)(m.S,{gap:16,children:[(0,r.FD)(m.S,{row:!0,gap:8,align:"center",children:[(0,r.Y)(p.K0,{alt:"Back",onClick:t,children:(0,r.Y)(C.A,{})}),(0,r.Y)(Y.EY,{variant:"subheadDefault",multiline:!1,children:"Update Payment Method"})]}),(0,r.Y)(b.y,{onClose:t,context:"account_page"})]})}}},36186:(e,n,t)=>{t.d(n,{H:()=>r,l:()=>i});var r=/^[a-zA-Z_][a-zA-Z0-9_]*$/,i="Use only letters, numbers, and underscores (must start with a letter or underscore)"},38516:(e,n,t)=>{t.d(n,{P:()=>c});var r=t(29935),i=t(82643),a=t(40185),o=t(21462),l=t(39938),s=t(47737);function c(e){var n=e.onAuth,t=e.onClose,c=(0,o.useRef)(null),u=(0,o.useRef)([]),d=(0,l.A)(n),p=(0,l.A)(void 0===t?function(){}:t),h=(0,a.useRouter)(),m=(0,s.Po)(h),f=function(){u.current.forEach(function(e){return e()}),u.current=[]};return(0,o.useEffect)(function(){return function(){f(),c.current&&c.current.close()}},[]),(0,o.useCallback)(function(){var e=function(e){return(0,r._)(function(){return(0,i.YH)(this,function(n){return(e.origin===window.location.origin||"https://replit.com"===e.origin||"https://repl.it"===e.origin)&&"authenticated"===e.data&&(f(),c.current&&c.current.close(),d.current()),[2]})})()},n=setInterval(function(){var e;(null==(e=c.current)?void 0:e.closed)&&(clearInterval(n),f(),p.current())},100);u.current.push(function(){window.removeEventListener("message",e),clearInterval(n)}),m?c.current=window.open("/mobile/auth/github/app_permissions"):c.current=window.open("/auth/github/app_permissions?close=1"),window.addEventListener("message",e)},[d,p,m])}},41298:(e,n,t)=>{t.d(n,{_l:()=>p,hr:()=>u});var r=t(17844),i=t(12584),a=t(41114),o=t(39590);function l(){var e=(0,i._)(["\n  fragment DeleteDialogTheme on CustomTheme {\n    id\n    status\n    colorScheme\n    title\n  }\n"]);return l=function(){return e},e}function s(){var e=(0,i._)(["\n  mutation ThemesPreferencesDeleteDialogDeleteTheme($input: DeleteThemeInput!) {\n    deleteTheme(input: $input) {\n      ... on CustomTheme {\n        id\n        ...DeleteDialogTheme\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return s=function(){return e},e}var c={},u=(0,a.J1)(l()),d=(0,a.J1)(s(),u);function p(e){var n=(0,r._)({},c,e);return o.n(d,n)}},41572:(e,n,t)=>{t.d(n,{A:()=>i});var r=t(25189);function i(){return(0,r.d0)()?"%HOMEPATH%":"~"}},49765:(e,n,t)=>{t.d(n,{Ay:()=>eY,w7:()=>eS,nB:()=>ew});var r=t(29935),i=t(83846),a=t(17844),o=t(93629),l=t(12694),s=t(86105),c=t(82643),u=t(34837),d=t(72096),p=t.n(d),h=t(21462),m=t(90629),f=t(46735),v=t(67201),g=t(12584),y=t(41114),S=t(54744),w=t(39590);function b(){var e=(0,g._)(["\n  fragment SharedSecret on SharedSecret {\n    id\n    name\n    description\n    version\n    value\n    timeCreated\n    timeUpdated\n    links {\n      items {\n        id\n        resource {\n          __typename\n          ... on Repl {\n            id\n            url\n            title\n            iconUrl\n          }\n        }\n      }\n      pageInfo {\n        hasNextPage\n        hasPreviousPage\n        nextCursor\n        previousCursor\n      }\n      totalCount\n    }\n    owner {\n      __typename\n      ... on User {\n        id\n      }\n    }\n  }\n"]);return b=function(){return e},e}function _(){var e=(0,g._)(["\n  query AccountSecrets($secretsInput: SecretsInput) {\n    currentUser {\n      id\n      secrets(input: $secretsInput) {\n        ... on SharedSecretConnection {\n          items {\n            ...SharedSecret\n          }\n          pageInfo {\n            hasNextPage\n            hasPreviousPage\n            nextCursor\n            previousCursor\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return _=function(){return e},e}function Y(){var e=(0,g._)(["\n  mutation CreateSharedSecrets($input: CreateSharedSecretsInput!) {\n    createSharedSecrets(input: $input) {\n      __typename\n      ... on CreateSharedSecretsResult {\n        createdSecrets {\n          ...SharedSecret\n        }\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return Y=function(){return e},e}function C(){var e=(0,g._)(["\n  mutation UpdateSharedSecrets($input: UpdateSharedSecretsInput!) {\n    updateSharedSecrets(input: $input) {\n      __typename\n      ... on UpdateSharedSecretsResult {\n        updatedSecrets {\n          ...SharedSecret\n        }\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return C=function(){return e},e}function k(){var e=(0,g._)(["\n  mutation DeleteSharedSecret($id: ID!) {\n    deleteSharedSecret(id: $id) {\n      __typename\n      ... on DeleteSharedSecretResult {\n        __typename\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on Error {\n        message\n      }\n    }\n  }\n"]);return k=function(){return e},e}var A={},E=(0,y.J1)(b()),D=(0,y.J1)(_(),E),x=(0,y.J1)(Y(),E),T=(0,y.J1)(C(),E),U=(0,y.J1)(k()),F=t(96513),P=t(30284),L=t(24270),R=t(35897),I=t(34778),O=t(36186),H=t(42793),K=t(39534),M=t(44879),N=t(70764),W=t(18712),z=t(40756),V=t(21466),$=t(22871),B=t(39042),Z=t(75054),j=t(73455),q=t(83096),J=t(47306),G=t(70251),Q=t(28611),X=t(3937),ee=t(91953),en=t(16491),et=t(25227),er=t(52650),ei=t(80325),ea=t(88976),eo=t(13315),el=t(37962),es=t(55929),ec=t(43193),eu=(0,N.x)({root:[W.wp.gap(16)]}),ed=(0,N.x)({root:[W.wp.flex.column,W.wp.p(8),W.wp.colWithGap(8)],clickableText:[W.wp.color.accentPrimaryStronger,W.wp.display.flex,W.wp.cursor.pointer],disclaimer:[W.wp.gap(4)],list:[{li:[W.wp.flex.row,W.wp.align.center,W.wp.gap(4)]}]}),ep=function(e){var n=e.name,t=e.links,r=e.isOpen,i=e.onClose,a=e.onDelete,o=e.isLoading,s=(0,l._)((0,h.useState)(!1),2),c=s[0],d=s[1];return(0,u.Y)(G.a,{isOpen:r,onRequestClose:function(){return i()},css:eu.root,children:(0,u.Y)(V.A,{prompt:"Delete ".concat(n,"?"),desc:(0,u.FD)(u.FK,{children:[t&&t.totalCount>0?(0,u.FD)(Q.Wv,{label:"affected-repls",isOpen:c,onOpenChange:d,children:[(0,u.FD)("div",{children:[t.totalCount," Repl",1===t.totalCount?"":"s"," ","will immediately lose access to this secret"]}),(0,u.Y)(eg,{links:t})]}):"No Apps are currently using this secret",(0,u.Y)("br",{}),"This action cannot be undone."]}),onConfirm:a,onCancel:i,confirmText:"Yes, delete this secret",icon:(0,u.Y)(ec.A,{}),danger:!0,loading:o})})},eh=(0,H.AH)([W.wp.border({color:K.LU.outlineDimmer,width:1,direction:"bottom"}),{"&:last-child":{borderBottom:"none"}}]),em=(0,N.x)({titleWrapper:[W.wp.align.baseline],section:[W.wp.borderRadius(12),W.wp.p(16),W.wp.flex.column,W.wp.gap(12),{'*[data-sensitive="true"]':{fontFamily:"text-security-disc"}}],secretList:[W.wp.borderRadius(),W.wp.overflow("hidden")],secretItem:[eh,W.wp.align.center,W.wp.p(8),W.wp.display.grid,(0,i._)({gridTemplateColumns:"1fr 1fr 140px 50px",minWidth:0,overflow:"hidden"},"@media (max-width: ".concat(M.LO.mobileMax,"px)"),{gridTemplateColumns:"1fr 2fr auto",gridTemplateRows:"auto auto",gridTemplateAreas:'\n          "name name edit"\n          "value value timestamp"\n        ',gap:"8px"})],secretValue:[W.wp.display.grid,W.wp.gap(4),W.wp.overflow("hidden"),(0,i._)({gridTemplateColumns:"min-content minmax(50px, 1fr) min-content",minWidth:0,width:"100%","& > span":{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",minWidth:0,display:"block",width:"100%"}},"@media (max-width: ".concat(M.LO.mobileMax,"px)"),{gridArea:"value"})],secretValueWrapper:[W.wp.overflow("hidden"),W.wp.width("100%"),{textOverflow:"ellipsis",minWidth:0}],secretValueText:[W.wp.overflow("hidden"),{textOverflow:"ellipsis",whiteSpace:"nowrap",display:"block",width:"100%",maxWidth:"100%",minWidth:0}],secretName:[W.wp.overflow("hidden"),W.wp.width("100%"),(0,i._)({textOverflow:"ellipsis",whiteSpace:"nowrap",display:"block",minWidth:0,maxWidth:"100%"},"@media (max-width: ".concat(M.LO.mobileMax,"px)"),{gridArea:"name",fontWeight:500})],secretTimestamp:[W.wp.color.foregroundDimmer,(0,i._)({},"@media (max-width: ".concat(M.LO.mobileMax,"px)"),{gridArea:"timestamp",textAlign:"right",fontSize:"0.75rem",whiteSpace:"nowrap"})],emptyState:[W.wp.center,W.wp.border({color:K.LU.outlineDefault,width:1,style:"dashed"}),W.wp.borderRadius(4),W.wp.py(24),W.wp.px(12)],secretEditContainer:[(0,i._)({},"@media (max-width: ".concat(M.LO.mobileMax,"px)"),{gridArea:"edit",justifySelf:"end"})]}),ef=function(e){var n=e.value,t=(0,l._)((0,h.useState)(!1),2),r=t[0],i=t[1];return(0,u.FD)(et.S,{css:em.secretValue,row:!0,align:"center","data-sensitive":!r,children:[(0,u.Y)($.r,{textToCopy:n}),(0,u.Y)(et.S,{css:em.secretValueWrapper,children:(0,u.Y)("span",{css:em.secretValueText,children:r?n:"****************"})}),(0,u.Y)(j.K0,{onClick:function(){return i(!r)},alt:r?"Hide":"Show",children:r?(0,u.Y)(eo.A,{size:16}):(0,u.Y)(ea.A,{size:16})})]})},ev=(0,N.x)({root:[W.wp.display.flex,W.wp.flex.column,W.wp.p(8),W.wp.gap(8),eh,{borderBottomWidth:1,borderBottomStyle:"solid"}],formFields:[W.wp.display.grid,W.wp.gap(32),{gridTemplateColumns:"2fr 3fr"}],formField:[W.wp.flex.column,W.wp.gap(8)],formFieldLabel:[{label:[W.wp.flex.row,W.wp.align.center,W.wp.gap(4)]}],disclaimer:[W.wp.color.foregroundDimmer,{fontSize:K.LU.fontSizeSmall,lineHeight:K.LU.lineHeightSmall}],footer:[W.wp.display.flex,W.wp.flex.row,W.wp.justify.spaceBetween],footerGroup:[W.wp.display.flex,W.wp.flex.row,W.wp.gap(4)]}),eg=function(e){var n=e.links;return(0,u.FD)(et.S,{css:ed.root,children:[(0,u.Y)(ee.EY,{children:"The following Apps will be affected:"}),(0,u.Y)("ul",{css:ed.list,children:n.items.map(function(e){return"Repl"===e.resource.__typename?(0,u.FD)("li",{children:[(0,u.Y)(er.A,{size:16,iconUrl:e.resource.iconUrl,alt:e.resource.title}),(0,u.Y)(p(),{href:e.resource.url,target:"_blank",children:e.resource.title},e.id)]},e.id):null})}),(0,u.FD)(ee.EY,{color:"dimmer",children:["Please refresh the App page, then Stop and Run the App",(0,u.Y)("br",{})," to use the updated linked secrets."]})]})},ey=function(e){var n=e.name,t=e.value,i=e.onSave,a=e.onCancel,o=e.onDelete,s=e.isNew,d=e.secrets,p=(0,h.useMemo)(function(){return d.find(function(e){return e.name===n})},[d,n]),f=null==p?void 0:p.links,v=(0,R.A)(),g=(0,l._)((0,h.useState)(n),2),y=g[0],S=g[1],w=(0,l._)((0,h.useState)(t),2),b=w[0],_=w[1],Y=(0,l._)((0,h.useState)(!0),2),C=Y[0],k=Y[1],A=(0,l._)((0,h.useState)(!1),2),E=A[0],D=A[1],x=(0,l._)((0,h.useState)(!1),2),T=x[0],U=x[1],F=(0,l._)((0,h.useState)(!1),2),P=F[0],L=F[1],I=(0,h.useMemo)(function(){return null!==y.match(O.H)},[y]),H=(0,h.useMemo)(function(){return!d.some(function(e){return e.name===y&&e.name!==n})},[n,y,d]),K=(0,l._)((0,h.useState)(!1),2),M=K[0],N=K[1],W=(0,l._)((0,h.useState)(null),2),V=W[0],$=W[1];(0,h.useEffect)(function(){H?!I&&y?$(O.l):$(null):$("Key must be unique")},[H,I,y]);var G=(0,h.useCallback)(function(){return(0,r._)(function(){var e;return(0,c.YH)(this,function(n){switch(n.label){case 0:L(!0),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,o()];case 2:return n.sent(),[3,4];case 3:return e=n.sent(),m.Cp(e),v.showError("Something went wrong. Please try again."),[3,4];case 4:return L(!1),[2]}})})()},[o,v]),X=(0,h.useCallback)(function(){return(0,r._)(function(){return(0,c.YH)(this,function(e){switch(e.label){case 0:if(!H||!I)return[2];D(!0),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,i({name:y,value:b})];case 2:return e.sent(),[3,4];case 3:return $(e.sent().message),[3,4];case 4:return D(!1),[2]}})})()},[H,I,y,b,i]);return(0,u.FD)(Z.lV,{css:ev.root,onSubmit:function(e){e.preventDefault(),X()},children:[(0,u.FD)(et.S,{css:ev.formFields,children:[(0,u.Y)(et.S,{css:ev.formField,children:(0,u.FD)(en.A_,{validate:function(){return H?!I&&y?O.l:void 0:"Key must be unique"},validationBehavior:"aria",isRequired:!0,minLength:1,maxLength:128,name:"secretName",value:y,onChange:function(e){return S(e)},isInvalid:null!==V,children:[(0,u.Y)(J.J,{color:"dimmer",multiline:!1,css:ev.formFieldLabel,children:"Key"}),(0,u.Y)(q.pd,{autoFocus:!0,autoComplete:"off","data-1p-ignore":!0}),(0,u.Y)(B.bg,{children:V})]})}),(0,u.Y)(et.S,{css:ev.formField,children:(0,u.FD)(en.A_,{isRequired:!0,minLength:1,name:"secretValue",value:b,onChange:function(e){return _(e)},children:[(0,u.FD)(J.J,{color:"dimmer",multiline:!1,css:ev.formFieldLabel,children:["Value"," ",(0,u.Y)(j.K0,{alt:C?"Hide":"Show",size:12,onClick:function(){return k(!C)},children:C?(0,u.Y)(eo.A,{}):(0,u.Y)(ea.A,{})})]}),(0,u.Y)(q.pd,{"data-sensitive":C,autoComplete:"off"})]})})]}),(0,u.Y)(et.S,{css:ev.disclaimer,children:(0,u.Y)(u.FK,{children:f&&f.totalCount>0?(0,u.FD)(et.S,{css:ed.disclaimer,row:!0,align:"center",children:[(0,u.FD)(Q.Wv,{label:"affected-repls",isOpen:M,onOpenChange:N,placement:"bottom start",children:[(0,u.FD)("span",{css:ed.clickableText,children:[f.totalCount," Repl",1===f.totalCount?"":"s"," "]}),(0,u.Y)(eg,{links:f})]}),"will be affected by this change."]}):null})}),(0,u.FD)(et.S,{css:ev.footer,children:[s?(0,u.Y)("div",{}):(0,u.Y)(z.$n,{text:"Delete",colorway:"negative",onClick:function(){return U(!0)},iconLeft:(0,u.Y)(ec.A,{})}),(0,u.FD)(et.S,{css:ev.footerGroup,children:[(0,u.Y)(z.$n,{text:"Cancel",onClick:a,disabled:E}),(0,u.Y)(z.$n,{text:"Save",colorway:"primary",loading:E,disabled:!H||!I||!y.length,onClick:X,type:"submit"})]})]}),(0,u.Y)(ep,{name:n,links:f,isOpen:T,onClose:function(){return U(!1)},onDelete:G,isLoading:P})]})},eS=function(){var e,n,t=(0,L.T)(),r=(0,R.A)().showError,i=(0,l._)((e={update:function(e,n){var i,l=n.data;if((null==l||null==(i=l.createSharedSecrets)?void 0:i.__typename)==="CreateSharedSecretsResult"){var c=l.createSharedSecrets.createdSecrets;e.modify({id:e.identify({__typename:"CurrentUser",id:t}),fields:{secrets:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{items:[]},t=c.map(function(n){return e.writeFragment({data:n,fragment:E})});return(0,o._)((0,a._)({},n),{items:(0,s._)(t).concat((0,s._)(n.items))})}}})}else(null==l?void 0:l.createSharedSecrets)&&r(l.createSharedSecrets.message)},onError:function(e){r("Failed to create secret. Please try again."),m.Cp(e)}},n=(0,a._)({},A,e),w.n(x,n)),2);return[i[0],i[1]]},ew=function(){var e,n,t=(0,L.T)(),r=(0,R.A)().showError,i=(0,l._)((e={update:function(e,n){var i,l=n.data;if((null==l||null==(i=l.updateSharedSecrets)?void 0:i.__typename)==="UpdateSharedSecretsResult"){var s=l.updateSharedSecrets.updatedSecrets;e.modify({id:e.identify({__typename:"CurrentUser",id:t}),fields:{secrets:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{items:[]},t=n.items.map(function(n){var t=s.find(function(e){return e.id===n.id});return t?e.writeFragment({data:t,fragment:E}):n});return(0,o._)((0,a._)({},n),{items:t})}}})}else(null==l?void 0:l.updateSharedSecrets)&&r(l.updateSharedSecrets.message)},onError:function(e){r("Failed to update secret. Please try again."),m.Cp(e)}},n=(0,a._)({},A,e),w.n(T,n)),2);return[i[0],i[1]]},eb=function(){var e,n,t=(0,L.T)(),r=(0,R.A)().showError,i=(0,l._)((e={update:function(e,n,i){var l,s=n.data,c=i.variables,u=null==c?void 0:c.id;u&&(null==s||null==(l=s.deleteSharedSecret)?void 0:l.__typename)==="DeleteSharedSecretResult"?e.modify({id:e.identify({__typename:"CurrentUser",id:t}),fields:{secrets:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{items:[]},n=(arguments.length>1?arguments[1]:void 0).readField;return(0,o._)((0,a._)({},e),{items:e.items.filter(function(e){return n("id",e)!==u})})}}}):(null==s?void 0:s.deleteSharedSecret)&&"message"in s.deleteSharedSecret&&r(s.deleteSharedSecret.message)},onError:function(e){r("Failed to delete secret. Please try again."),m.Cp(e)}},n=(0,a._)({},A,e),w.n(U,n)),2);return[i[0],i[1]]},e_=function(e){var n=e.id,t=e.name,i=e.value,s=e.timeUpdated,d=e.onRemoveSecret,p=e.secrets,m="0"===e.version,v=(0,l._)((0,h.useState)(m),2),g=v[0],y=v[1],S=(0,h.useRef)(null),w=(0,h.useCallback)(function(){setTimeout(function(){var e;return null==(e=S.current)?void 0:e.focus()},0)},[]),b=(0,l._)(eS(),1)[0],_=(0,l._)(ew(),1)[0],Y=(0,l._)(eb(),1)[0],C=(0,h.useCallback)(function(e){return(0,r._)(function(){return(0,c.YH)(this,function(t){switch(t.label){case 0:if(!m)return[3,2];return[4,b({variables:{input:{ownerType:F.n0s.Account,secrets:[e]}}})];case 1:return t.sent(),(0,I.u4)(P.AZ.SHARED_SECRETS_USED,{ownerType:"account",action:"create",source:"account"}),[3,4];case 2:return[4,_({variables:{input:{ownerType:F.n0s.Account,secrets:[(0,o._)((0,a._)({},e),{id:n})]}}})];case 3:t.sent(),(0,I.u4)(P.AZ.SHARED_SECRETS_USED,{ownerType:"account",action:"update",source:"account"}),t.label=4;case 4:return y(!1),[2]}})})()},[b,n,m,_]),k=(0,h.useCallback)(function(){y(!1),m?d():w()},[m,d,w]);return g||!s?(0,u.Y)(ey,{secrets:p,isNew:m,name:t,value:i,onDelete:function(){return(0,r._)(function(){return(0,c.YH)(this,function(e){switch(e.label){case 0:return[4,Y({variables:{id:n}})];case 1:return e.sent(),(0,I.u4)(P.AZ.SHARED_SECRETS_USED,{ownerType:"account",action:"delete",source:"account"}),d(),[2]}})})()},onSave:C,onCancel:k}):(0,u.FD)(et.S,{css:em.secretItem,children:[(0,u.Y)(et.S,{css:em.secretName,children:t}),(0,u.Y)(ef,{value:i}),(0,u.FD)(et.S,{css:em.secretTimestamp,children:["Updated ",(0,f.A)(new Date(s),"MM/dd/yy")]}),(0,u.Y)(et.S,{css:em.secretEditContainer,align:"end",children:(0,u.Y)(j.K0,{alt:"Edit",onClick:function(){return y(!0)},ref:S,children:(0,u.Y)(ei.A,{})})})]})};function eY(){var e,n,t,r,i=(e=(0,a._)({},A,void 0),S.I(D,e)).data,o=(0,l._)((0,h.useState)((null==i||null==(t=i.currentUser)||null==(n=t.secrets)?void 0:n.__typename)==="SharedSecretConnection"?i.currentUser.secrets.items:[]),2),c=o[0],d=o[1];(0,h.useEffect)(function(){var e,n;d((null==i||null==(n=i.currentUser)||null==(e=n.secrets)?void 0:e.__typename)==="SharedSecretConnection"?i.currentUser.secrets.items:[])},[null==i||null==(r=i.currentUser)?void 0:r.secrets]);var p=(0,h.useCallback)(function(){d(function(e){return[{__typename:"SharedSecret",id:"temp-".concat((0,v.A)()),name:"",value:"",timeUpdated:new Date().toISOString(),timeCreated:new Date().toISOString(),version:"0"}].concat((0,s._)(e))})},[]),m=(0,h.useCallback)(function(e){d(function(n){return n.filter(function(n,t){return t!==e})})},[]);return(0,u.FD)(et.S,{gap:8,children:[(0,u.FD)(et.S,{row:!0,justify:"space-between",children:[(0,u.Y)(et.S,{css:em.titleWrapper,row:!0,gap:8,children:(0,u.Y)(ee.EY,{variant:"subheadBig",multiline:!1,children:"Account Secrets"})}),(0,u.Y)(et.S,{align:"center",row:!0,gap:8,children:(0,u.Y)(z.$n,{text:"New secret",iconLeft:(0,u.Y)(es.A,{}),size:"small",colorway:"primary",onClick:p})})]}),(0,u.FD)(X.ui,{elevated:!0,css:em.section,children:["Add secrets to your account to access them in any of your Apps.",0===c.length?(0,u.FD)(et.S,{css:em.emptyState,gap:8,children:[(0,u.Y)(el.A,{size:24,color:K.LU.foregroundDimmest}),(0,u.Y)(ee.EY,{color:"dimmer",children:"You haven't added any account secrets yet."})]}):(0,u.Y)(X.ui,{elevated:!0,css:em.secretList,children:c.map(function(e,n){return(0,u.Y)(e_,(0,a._)({secrets:c,onRemoveSecret:function(){return m(n)}},e),e.id)})})]})]})}},51286:(e,n,t)=>{t.d(n,{r:()=>o});var r=t(12694),i=t(86105),a=t(21462);function o(e){var n=(0,r._)((0,a.useState)(e),2),t=n[0],o=n[1],l=(0,r._)((0,a.useState)([]),2),s=l[0],c=l[1],u=(0,a.useCallback)(function(e){c((0,i._)(s).concat([t])),o(e)},[s,c,t,o]);return{currentStep:t,goTo:u,goBack:(0,a.useCallback)(function(){var e=s.pop();c(s),e&&o(e)},[s,c,o]),canGoBack:s.length>0}}},53153:(e,n,t)=>{t.d(n,{A:()=>d,U:()=>u});var r=t(17844),i=t(34837),a=t(91753),o=t(32924),l=t(87261),s=t(91953),c=t(25227),u=[{id:"replitDark",title:"dark",theme:o.T5,values:(0,r._)({__typename:"ThemeValues"},o.T5.values),dataCy:"preferences-theme-dark"},{id:"replitLight",title:"light",theme:o.FV,values:o.FV.values,dataCy:"preferences-theme-light"},{id:"replitSpooky",title:"spooky",theme:o.u_,values:o.u_.values,dataCy:"preferences-theme-spooky"}].map(function(e){return(0,r._)({type:"official"},e)});let d=function(){var e=(0,l.c)();return(0,i.FD)(c.S,{gap:12,children:[(0,i.Y)(s.EY,{variant:"subheadDefault",multiline:!1,children:"Official Themes"}),(0,i.Y)(a.A,{name:e("official-themes"),themes:u})]})}},57695:(e,n,t)=>{t.d(n,{W:()=>o});var r=t(12694),i=t(21462),a=t(26221);function o(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.root,o=n.margin,l=n.amount,s=n.once,c=void 0!==s&&s,u=(0,r._)((0,i.useState)(!1),2),d=u[0],p=u[1];return(0,i.useEffect)(function(){if(e.current&&(!c||!d)){var n;return(0,a.l)(e.current,function(){return p(!0),c?void 0:function(){return p(!1)}},{root:null!=(n=null==t?void 0:t.current)?n:void 0,rootMargin:o,threshold:l})}},[t,e,o,c,l,d]),d}},65904:(e,n,t)=>{t.d(n,{A:()=>m});var r=t(34837),i=t(19786),a=t(39534),o=t(70764),l=t(18712),s=t(73455),c=t(3937),u=t(91953),d=t(25227),p=t(29274),h=(0,o.x)({root:[l.wp.borderRadius(4),l.wp.border({color:a.LU.outlineDimmer,width:1,style:"solid"}),l.wp.p(8),l.wp.backgroundColor.backgroundDefault],body:[l.wp.overflow("auto"),l.wp.font.code,l.wp.flex.growAndShrink(1),l.wp.scrollbar.hidden]});function m(e){var n=e.code,t=e.header,a=e.multiline,o=e.onCopy;return(0,r.FD)(c.ui,{tag:"pre",css:h.root,gap:4,children:[(0,r.FD)(d.S,{row:!0,justify:"space-between",children:[(0,r.Y)(u.EY,{color:"dimmer",children:t}),(0,r.Y)(s.K0,{onClick:function(){null==o||o(),(0,i.default)(n)},alt:"Copy",children:(0,r.Y)(p.A,{})})]}),(0,r.Y)(d.S,{children:(0,r.Y)(u.EY,{multiline:a,css:h.body,maxLines:a?void 0:1,children:n})})]})}},69685:(e,n,t)=>{t.d(n,{A:()=>l});var r=t(17844),i=t(93629),a=t(34837),o=t(25590);function l(e){return(0,a.FD)(o.Ay,(0,i._)((0,r._)({},e),{children:[(0,a.Y)("path",{d:"M9.53 8.47a.75.75 0 0 0-1.06 1.06L10.94 12l-2.47 2.47a.75.75 0 1 0 1.06 1.06L12 13.06l2.47 2.47a.75.75 0 1 0 1.06-1.06L13.06 12l2.47-2.47a.75.75 0 0 0-1.06-1.06L12 10.94 9.53 8.47Z"}),(0,a.Y)("path",{fillRule:"evenodd",d:"M12 3.25a8.75 8.75 0 1 0 0 17.5 8.75 8.75 0 0 0 0-17.5ZM4.75 12a7.25 7.25 0 1 1 14.5 0 7.25 7.25 0 0 1-14.5 0Z",clipRule:"evenodd"})]}))}},69871:(e,n,t)=>{t.d(n,{A:()=>i,v:()=>r});var r=["ssh-rsa","ssh-dss","ecdsa-sha2-nistp256","sk-ecdsa-sha2-nistp256@openssh.com","ecdsa-sha2-nistp384","ecdsa-sha2-nistp521","ssh-ed25519","sk-ssh-ed25519@openssh.com"];function i(e){var n=e.trim();if(""===n)return"Key cannot be empty";var t=n.split(" ");if(t.length<3||t.length>4)return"Key must have either 3 or 4 separate components";var i=3===t.length?t[0]:t[1];return r.includes(i)?null:"".concat(i," is not a valid key type")}},74039:(e,n,t)=>{t.d(n,{J6:()=>a,Ot:()=>u,T0:()=>s,iu:()=>c,l5:()=>i,oc:()=>o,yo:()=>l});var r=t(34778),i=function(e){return e.EditThemePage="EditThemePage",e.ThemeCoverPage="ThemeCoverPage",e}({});function a(e){(0,r.u4)(r.AZ.CUSTOM_THEME_PUBLISHED,e)}function o(e){(0,r.u4)(r.AZ.CUSTOM_THEME_DELETED,e)}function l(e){(0,r.xm)(r.AZ.CUSTOM_THEME_UPDATED,e)}function s(e){(0,r.u4)(r.AZ.CUSTOM_THEME_CREATED,e)}var c=function(e){return e.EditThemePage="EditThemePage",e.ThemeCoverPage="ThemeCoverPage",e.AccountPage="AccountPage",e.Sidebar="Sidebar",e.Workspace="Workspace",e.WorkspacePreferencesPane="WorkspacePreferencesPane",e}({});function u(e){(0,r.u4)(r.AZ.CUSTOM_THEME_APPLIED,e)}},82048:(e,n,t)=>{t.d(n,{P:()=>A});var r=t(29935),i=t(12694),a=t(82643),o=t(34837),l=t(40185),s=t(88563),c=t(49999),u=t(69871),d=t(56101),p=t(35897),h=t(34778),m=t(65904),f=t(41572),v=t(39534),g=t(70764),y=t(18712),S=t(87261),w=t(83031),b=t(40756),_=t(83096),Y=t(91953),C=t(25227),k=t(73635),A=function(e){var n=e.onConfirm,t=(0,p.A)(),u=t.showConfirm,v=t.showError,g=(0,l.useRouter)(),y=(0,f.A)(),A=(0,S.c)(),E=(0,d.W)("",T),F=(0,d.W)("",x),P=(0,i._)((0,s.n$)({onCompleted:function(e){var t;switch(null==(t=e.addPublicSshKey)?void 0:t.__typename){case"UserError":case"UnauthorizedError":case"ServiceUnavailable":v(e.addPublicSshKey.message);break;case"CurrentUser":E.setValue(""),F.setValue(""),u("SSH key added"),n();break;case void 0:case null:v("An unkown error occurred. Please try again.");break;default:(0,c.A)(e.addPublicSshKey)}},onError:function(e){v("Error adding SSH key: ".concat(e.message))}}),2),L=P[0],R=P[1].loading,I="[ -s ".concat(y,"/.ssh/replit.pub ] || ssh-keygen -t ed25519 -f ").concat(y,'/.ssh/replit -q -N "" && cat ').concat(y,"/.ssh/replit.pub");return(0,o.FD)(C.S,{gap:16,children:[(0,o.Y)(Y.EY,{variant:"headerDefault",children:"Add a new SSH key"}),(0,o.FD)(C.S,{css:U.input,children:[(0,o.Y)(C.S,{tag:"label",htmlFor:A("label-input"),children:"Label"}),(0,o.Y)(_.pd,{id:A("label-input"),placeholder:"Enter a label to identify this SSH key...",value:F.value,onChange:function(e){return F.setValue(e.target.value,{preventValidation:!0})},onBlur:F.handleBlur}),F.error?(0,o.Y)(Y.EY,{multiline:!1,variant:"small",css:U.inputErrorMessage,children:F.error.message}):null]}),(0,o.FD)(C.S,{css:U.input,children:[(0,o.Y)(C.S,{tag:"label",htmlFor:A("key-input"),children:"Key"}),(0,o.Y)(_.ov,{autoSize:!0,id:A("key-input"),placeholder:D,value:E.value,css:U.keyInput,onChange:function(e){return E.setValue(e.target.value,{preventValidation:!0})},onBlur:E.handleBlur}),E.error?(0,o.Y)(Y.EY,{multiline:!1,variant:"small",css:U.inputErrorMessage,children:E.error.message}):null]}),(0,o.Y)(w.A,{headerContent:(0,o.Y)(Y.EY,{color:"dimmer",children:"Learn how to generate an SSH key"}),headerProps:{style:{justifyContent:"start"}},children:(0,o.FD)(C.S,{px:6,gap:4,children:[(0,o.Y)(Y.EY,{color:"dimmer",children:"To generate an SSH key, run this shell command locally on your machine. The value it returns can be pasted into the key field."}),(0,o.Y)(m.A,{code:I,header:"Shell command",multiline:!0})]})}),(0,o.Y)(C.S,{row:!0,children:(0,o.Y)(b.$n,{disabled:R||!!E.error||!!F.error,colorway:"primary",text:"Add SSH key",type:"submit",iconLeft:(0,o.Y)(k.A,{}),onClick:function(){return(0,r._)(function(){var e,n;return(0,a.YH)(this,function(t){switch(t.label){case 0:return[4,E.validate()];case 1:return e=t.sent(),[4,F.validate()];case 2:if(n=t.sent(),e)return v(e.message),[2];if(n)return v(n.message),[2];return(0,h.u4)(h.AZ.ACCOUNT_SSH_KEY_ADDED,{path:g.pathname}),[4,L({variables:{input:{key:E.value.trim(),label:F.value.trim()}}})];case 3:return t.sent(),[2]}})})()}})})]})},E=u.v.map(function(e){return"'".concat(e,"'")}),D="Begins with ".concat(E.slice(0,-1).join(", "),", or ").concat(E[E.length-1]),x=function(e){return""===e.trim()?{message:"Label cannot be empty",severity:"error"}:null},T=function(e){var n=(0,u.A)(e);return n?{message:n,severity:"error"}:null},U=(0,g.x)({input:[y.wp.colWithGap(8)],keyInput:[y.wp.height(v.LU.space128)],inputErrorMessage:[y.wp.color.accentNegativeDefault]})},83031:(e,n,t)=>{t.d(n,{A:()=>b,E:()=>w});var r=t(83846),i=t(17844),a=t(93629),o=t(17459),l=t(12694),s=t(34837),c=t(21462),u=t(94535),d=t(39534),p=t(51292),h=t(18712),m=t(25227),f=t(13052),v=t(1121),g=function(e){var n,t=e.uuid,i=e.isExpanded,a=e.disabled;return n={tag:"div"},(0,r._)(n,"aria-expanded",i),(0,r._)(n,"id","".concat("AccordionControl"+t)),(0,r._)(n,"aria-controls","".concat("AccordionContent"+t)),(0,r._)(n,"disabled",a),n},y=function(e){var n=e.toggleOn,t=e.uuid,r=e.onClick,l=e.isExpanded,u=e.children,d=e.className,f=e.disabled,v=void 0!==f&&f,y=(0,o._)(e,["toggleOn","uuid","onClick","isExpanded","children","className","disabled"]),S=(0,c.useMemo)(function(){return g({uuid:t,isExpanded:l,disabled:v})},[t,l,v]);return(0,s.Y)(m.S,(0,a._)((0,i._)({className:d,role:"button"},n?(0,i._)({css:[h.wp.reset.button,p.b.listItem],onClick:v?void 0:r},S,y):y),{children:u}))},S=function(){},w=function(e){var n=e.defaultExpanded,t=e.expanded,r=e.onChange,i=e.disabled,a=void 0!==i&&i,o=(0,l._)((0,u.P)(t,void 0!==n&&n,void 0===r?S:r),2),s=o[0],d=void 0!==s&&s,p=o[1],h=(0,c.useCallback)(function(){a||p(!d)},[a,d,p]);return{isExpanded:d,toggle:h}};function b(e){var n=e.className,t=e.children,o=e.headerContent,l=e.expanded,u=e.defaultExpanded,p=e.variant,b=void 0===p?"default":p,_=e.chevron,Y=void 0===_?"end":_,C=e.toggleOn,k=void 0===C?"header":C,A=e.onClick,E=e.round,D=e.animateChevron,x=void 0===D||D,T=e.disabled,U=void 0!==T&&T,F=e.headerProps,P=(0,c.useId)(),L=w({defaultExpanded:void 0!==u&&u,expanded:l,onChange:void 0===A?S:A,disabled:U}),R=L.isExpanded,I=L.toggle,O="large"===b?24:void 0,H="large"===b?[h.wp.py(16),h.wp.px(24),(0,r._)({},(0,f.kT)("mobileMax"),[h.wp.p(16)])]:[h.wp.p(4)],K=(0,c.useMemo)(function(){return g({uuid:P,isExpanded:R,disabled:U})},[P,R,U]);return(0,s.FD)(m.S,{className:n,children:[(0,s.FD)(y,(0,a._)((0,i._)({},F),{css:[h.wp.display.flex,h.wp.flex.row,h.wp.justify.spaceBetween,h.wp.align.stretch,H,[void 0===E||E?[h.wp.borderRadius(4)]:[h.wp.borderRadius(0)]]],toggleOn:"header"===k,uuid:P,onClick:I,isExpanded:R,disabled:U,children:["start"===Y&&(0,s.Y)(y,{css:[h.wp.px(4),h.wp.justify.center],toggleOn:"chevron"===k,uuid:P,onClick:I,isExpanded:R,disabled:U,children:(0,s.Y)(v.A,{size:O,rotate:180*!R,color:U?d.LU.foregroundDimmest:void 0,css:[x&&h.wp.transition.snappy]})}),"function"==typeof o?o({isExpanded:R,toggle:I,toggleAttributes:K}):o,"end"===Y&&(0,s.Y)(y,{css:[h.wp.px(4),h.wp.justify.center],toggleOn:"chevron"===k,uuid:P,onClick:I,isExpanded:R,disabled:U,children:(0,s.Y)(v.A,{size:O,rotate:180*!R,color:U?d.LU.foregroundDimmest:void 0,css:[x&&h.wp.transition.snappy]})})]})),R?(0,s.Y)(m.S,{"aria-labelledby":"AccordionControl"+P,id:"AccordionContent"+P,children:t}):null]})}},88288:(e,n,t)=>{t.d(n,{f:()=>x});var r=t(12694),i=t(34837),a=t(40185),o=t(21462),l=t(88563),s=t(49999),c=t(30284),u=t(92972),d=t(35897),p=t(19786),h=t(34778),m=t(40756),f=t(70251),v=t(9844),g=t(91953),y=t(25227),S=t(90843),w=function(e){var n=e.onClose,t=e.onConfirm,r=e.keyId;return(0,i.Y)(f.a,{centered:!0,isOpen:null!==r,onRequestClose:n,children:(0,i.FD)(y.S,{gap:16,children:[(0,i.Y)(g.EY,{variant:"headerDefault",children:"Delete SSH key"}),(0,i.Y)(v.N,{icon:(0,i.Y)(S.A,{}),colorway:"warning",text:"Are you sure you want to permanently delete this SSH key?"}),(0,i.Y)(g.EY,{multiline:!0,children:"This action cannot be undone. If you want to use this key again in the future, you can add it again."}),(0,i.FD)(y.S,{row:!0,gap:16,justify:"start",children:[(0,i.Y)(m.$n,{text:"Cancel",onClick:n}),(0,i.Y)(m.$n,{colorway:"negative",text:"Confirm and delete SSH key",onClick:null!==r?function(){return t(r)}:function(){}})]})]})})},b=t(39534),_=t(70764),Y=t(18712),C=t(73455),k=t(3937),A=t(29274),E=t(48114),D=t(43193),x=function(e){var n=e.keys,t=(0,a.useRouter)(),u=(0,d.A)(),m=u.showConfirm,f=u.showError,v=(0,r._)((0,o.useState)(null),2),S=v[0],_=v[1],Y=(0,r._)((0,l.P9)({onCompleted:function(e){if(!e.deletePublicSshKey)throw Error("Expected response");switch(e.deletePublicSshKey.__typename){case"UnauthorizedError":case"ServiceUnavailable":case"NotFoundError":f(e.deletePublicSshKey.message);break;case"CurrentUser":m("SSH key deleted");break;default:(0,s.A)(e.deletePublicSshKey)}},onError:function(e){f("Something unexpected happened while deleting the SSH key")}}),2),x=Y[0],U=Y[1].loading;return 0===n.length?(0,i.FD)(y.S,{css:F.emptyState,gap:8,children:[(0,i.Y)(E.A,{size:24,color:b.LU.foregroundDimmest}),(0,i.Y)(g.EY,{color:"dimmer",children:"You haven't added any SSH keys yet."})]}):(0,i.FD)(y.S,{tag:"ul",gap:8,children:[n.map(function(e){var n=e.timeCreated,t=e.label,r=e.key,a=e.id;return(0,i.FD)(k.ui,{elevated:!0,p:8,gap:4,tag:"li",children:[(0,i.FD)(y.S,{row:!0,gap:8,justify:"space-between",align:"center",children:[(0,i.Y)(g.EY,{variant:"small",css:F.keyLabelText,children:t}),(0,i.FD)(y.S,{row:!0,gap:4,children:[(0,i.Y)(C.K0,{alt:"Copy",onClick:function(){(0,p.default)(r)},children:(0,i.Y)(A.A,{size:16})}),(0,i.Y)(C.K0,{alt:"Delete public SSH key",disabled:U,onClick:function(){_(a)},children:(0,i.Y)(D.A,{size:16})})]})]}),(0,i.FD)(y.S,{row:!0,gap:8,align:"center",children:[(0,i.Y)(E.A,{css:F.keyIcon}),(0,i.Y)(T,{sshKey:r})]}),(0,i.Y)(y.S,{css:F.keyTime,tag:"time",dateTime:n,children:(0,i.FD)(g.EY,{variant:"small",color:"dimmer",children:["Added on"," ",new Date(n).toLocaleDateString(void 0,{dateStyle:"long"})]})})]},a)}),(0,i.Y)(w,{keyId:S,onClose:function(){return _(null)},onConfirm:function(e){(0,h.u4)(c.AZ.ACCOUNT_SSH_KEY_REMOVED,{path:t.pathname}),x({variables:{input:{id:e}}}),_(null)}})]})},T=function(e){var n=e.sshKey,t=U(n),a=(0,r._)(t.ok?["".concat(t.value.keyType," ").concat(t.value.encodedKey.slice(0,-8)),"".concat(t.value.encodedKey.slice(-8)," ").concat(t.value.comment)]:[n.slice(0,-8),n.slice(-8)],2),o=a[0],l=a[1];return(0,i.FD)(y.S,{shrink:!0,row:!0,gap:0,children:[(0,i.Y)(g.EY,{variant:"small",color:"dimmer",maxLines:1,css:F.keyValuePrefix,children:o}),(0,i.Y)(g.EY,{variant:"small",color:"dimmer",maxLines:1,css:F.keyValueSuffix,children:l})]})},U=function(e){var n=e.split(" ");return n.length<3?u.Ay.Err("Key is in an unexpected format"):u.Ay.Ok({keyType:n[0],encodedKey:n[1],comment:n[2]})},F=(0,_.x)({keyIcon:[Y.wp.color.foregroundDimmer],keyTime:[Y.wp.color.foregroundDimmer],keyLabelText:[Y.wp.fontWeight.medium],keyValuePrefix:[Y.wp.flex.shrink(1),{whiteSpace:"nowrap"},Y.wp.truncate,Y.wp.font.code],keyValueSuffix:[{whiteSpace:"nowrap"},Y.wp.truncate,Y.wp.font.code],emptyState:[Y.wp.center,Y.wp.border({color:b.LU.outlineDefault,width:1,style:"dashed"}),Y.wp.borderRadius(4),Y.wp.py(24),Y.wp.px(12)]})},88563:(e,n,t)=>{t.d(n,{P9:()=>f,kl:()=>g,n$:()=>h});var r=t(17844),i=t(12584),a=t(41114),o=t(39590),l=t(54744);function s(){var e=(0,i._)(["\n  mutation AddSshKey($input: AddPublicSshKeyInput!) {\n    addPublicSshKey(input: $input) {\n      __typename\n      ... on CurrentUser {\n        id\n        publicSshKeys {\n          ... on PublicSshKeysOutput {\n            __typename\n            keys {\n              id\n              key\n              label\n              timeCreated\n            }\n          }\n          ... on UnauthorizedError {\n            __typename\n            message\n          }\n        }\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on ServiceUnavailable {\n        message\n      }\n    }\n  }\n"]);return s=function(){return e},e}function c(){var e=(0,i._)(["\n  mutation DeleteSshKey($input: DeletePublicSshKeyInput!) {\n    deletePublicSshKey(input: $input) {\n      __typename\n      ... on CurrentUser {\n        id\n        publicSshKeys {\n          ... on PublicSshKeysOutput {\n            __typename\n            keys {\n              id\n              key\n              label\n              timeCreated\n            }\n          }\n          ... on UnauthorizedError {\n            __typename\n            message\n          }\n        }\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on ServiceUnavailable {\n        message\n      }\n    }\n  }\n"]);return c=function(){return e},e}function u(){var e=(0,i._)(["\n  query SshKeysCurrentUser {\n    currentUser {\n      id\n      __typename\n      publicSshKeys {\n        ... on PublicSshKeysOutput {\n          keys {\n            id\n            key\n            label\n            timeCreated\n          }\n        }\n        ... on UnauthorizedError {\n          message\n        }\n      }\n    }\n  }\n"]);return u=function(){return e},e}var d={},p=(0,a.J1)(s());function h(e){var n=(0,r._)({},d,e);return o.n(p,n)}var m=(0,a.J1)(c());function f(e){var n=(0,r._)({},d,e);return o.n(m,n)}var v=(0,a.J1)(u());function g(e){var n=(0,r._)({},d,e);return l.I(v,n)}},91753:(e,n,t)=>{t.d(n,{A:()=>X});var r=t(12694),i=t(34837),a=t(21462),o=t(5684),l=t.n(o),s=t(69371),c=t.n(s),u=t(39534),d=t(85366),p=t(17844),h=t(17459),m=t(86105),f=t(40185),v=t(77777),g=t(29935),y=t(82643),S=t(96513),w=t(41298),b=t(35897),_=t(74039),Y=t(73712),C=t(32924),k=t(21466),A=t(25227),E=t(43193);let D=function(e){var n=e.theme,t=e.onClose,o=e.refetchOptions,l=(0,b.A)(),s=l.showError,c=l.showConfirm,u=(0,Y.D)(),d=u.setActiveTheme,p=u.theme,h=o?[{query:o.queryDoc,variables:{authoredThemesInput:o.input}}]:[],m=(0,r._)((0,a.useState)(function(){return n.status===S.vLX.Public}),1)[0],f=(0,r._)((0,w._l)({onError:function(e){return s(e.message)},onCompleted:function(e){return(0,g._)(function(){var r;return(0,y.YH)(this,function(i){switch(null==(r=e.deleteTheme)?void 0:r.__typename){case"UnauthorizedError":case"UserError":case"NotFoundError":s(e.deleteTheme.message);break;case"CustomTheme":(0,_.oc)({themeId:n.id,isPublished:m,colorScheme:n.colorScheme}),c("".concat(n.title," deleted")),t();break;default:s("Something went wrong")}return[2]})})()},refetchQueries:h}),2),v=f[0],D=f[1].loading;return(0,i.Y)(A.S,{children:(0,i.Y)(k.A,{prompt:"Delete ".concat(n.title),desc:"Are you sure you want to delete ".concat(n.title,"? This cannot be undone."),confirmText:"Yes, delete this Theme",onCancel:t,icon:(0,i.Y)(E.A,{}),onConfirm:function(){return(0,g._)(function(){return(0,y.YH)(this,function(e){return"number"!=typeof n.id||D||(p.id===n.id&&d(C.kl.id),v({variables:{input:{themeId:n.id}}})),[2]})})()},loading:D,danger:!0})})};var x=t(5375),T=t(60208),U=t(70764),F=t(18712),P=t(87261),L=t(70251),R=t(66121),I=t(91953),O=t(97164),H=t(80325),K=t(88976),M=(0,U.x)({labelWrapper:[F.wp.rowWithGap(8),F.wp.align.center,F.wp.flex.growAndShrink(1)],label:[F.wp.flex.growAndShrink(1),{cursor:"pointer"}],cardLabel:[F.wp.borderRadius(8),{cursor:"pointer"},{border:"1px solid ".concat(u.LU.outlineDimmer)}],header:[F.wp.rowWithGap(8),F.wp.justify.spaceBetween]}),N=function(e){var n=e.theme,t=e.themesLoading,r=(0,P.c)();return(0,i.FD)(A.S,{gap:8,children:[(0,i.Y)(A.S,{css:M.header,children:(0,i.FD)(A.S,{css:M.labelWrapper,dataCy:n.dataCy,children:[(0,i.Y)(R.s,{id:r(n.id),name:r(n.id),disabled:t,value:n.id.toString()}),(0,i.Y)(A.S,{tag:"label",css:M.label,htmlFor:r(n.id),children:(0,i.Y)(I.EY,{multiline:!1,children:n.title})})]})}),(0,i.Y)(A.S,{tag:"label",htmlFor:r(n.id),css:M.cardLabel,children:(0,i.Y)(v.Z,{values:n.values})})]})},W=[{label:"View",icon:(0,i.Y)(K.A,{}),key:"view"}],z=[{label:"Edit",icon:(0,i.Y)(H.A,{}),key:"edit"}].concat((0,m._)(W),[{label:"Delete",icon:(0,i.Y)(E.A,{}),key:"delete",isDestructive:!0}]),V=(0,m._)(W).concat([{label:"Uninstall",icon:(0,i.Y)(E.A,{}),key:"uninstall",isDestructive:!0}]),$=function(e){return e.Delete="Delete",e.Uninstall="Uninstall",e}($||{}),B=function(e){var n=e.theme,t=e.themesLoading,o=e.refetchOptions,l=(0,P.c)(),s=(0,f.useRouter)(),c=(0,r._)((0,a.useState)(null),2),u=c[0],d=c[1],p=n.isCurrentUserThemeAuthor?z:V;return(0,i.FD)(A.S,{gap:8,children:[(0,i.FD)(A.S,{css:M.header,children:[(0,i.FD)(A.S,{css:M.labelWrapper,children:[(0,i.Y)(R.s,{id:l(n.id),name:l(n.id),disabled:t,value:n.id.toString()}),(0,i.Y)(A.S,{tag:"label",css:M.label,htmlFor:l(n.id),children:(0,i.Y)(I.EY,{multiline:!1,children:n.title})})]}),(0,i.Y)(A.S,{children:(0,i.Y)(O.A,{items:p,orientation:"horizontal",label:"Theme actions",onItemClick:function(e){switch(e.key){case"edit":if(!n.isCurrentUserThemeAuthor||!(null==(t=n.author)?void 0:t.username))return;var t,r=(0,T.QT)({slug:n.slug,themeId:n.id,username:n.author.username}),i=r.href,a=r.as;s.push(i,a);return;case"view":if(!(null==(o=n.author)?void 0:o.username))return;var o,l=(0,T.kk)({slug:n.slug,themeId:n.id,username:n.author.username}),c=l.href,u=l.as;s.push(c,u);return;case"delete":if(!n.isCurrentUserThemeAuthor)return;d("Delete");break;case"uninstall":if(!n.isInstalledByCurrentUser)return;d("Uninstall")}}})})]}),(0,i.Y)(A.S,{tag:"label",css:M.cardLabel,htmlFor:l(n.id),children:(0,i.Y)(v.c,{values:n.values,author:n.author})}),(0,i.Y)(L.a,{isOpen:"Delete"===u,onRequestClose:function(){return d(null)},children:(0,i.Y)(D,{refetchOptions:o,theme:n,onClose:function(){return d(null)}})}),(0,i.Y)(L.a,{isOpen:"Uninstall"===u,onRequestClose:function(){return d(null)},children:(0,i.Y)(x.A,{refetchOptions:o,theme:n,onClose:function(){return d(null)}})})]})};let Z=function(e){var n=e.theme,t=(0,h._)(e,["theme"]);switch(n.type){case"custom":return(0,i.Y)(B,(0,p._)({theme:n},t));case"official":return(0,i.Y)(N,(0,p._)({theme:n},t))}};var j=t(24499),q=t(73455),J=t(59093),G=t(81512),Q={self:[F.wp.colWithGap(8)],list:[F.wp.display.grid,F.wp.layout.columns,F.wp.justify.spaceBetween,{gridGap:u.LU.space32,gridTemplateColumns:"repeat(2, 1fr)"}],loading:[F.wp.center],paginationWrapper:[F.wp.rowWithGap(8),F.wp.justify.end],paginationButton:function(e){return[e?j.S.backgroundPulse(u.LU.accentPrimaryDimmest,u.LU.accentPrimaryDefault):{}]}};let X=function(e){var n=e.name,t=e.themes,o=e.paginationOptions,s=e.themesLoading,u=e.refetchOptions,p=e.emptyText,h=(0,Y.D)(),m=h.setActiveTheme,f=h.theme,v=h.isSaving,g=(0,r._)((0,a.useState)(!1),2),y=g[0],S=g[1],w=(0,r._)((0,a.useState)(!1),2),b=w[0],k=w[1];(0,a.useEffect)(function(){s||(S(!1),k(!1))},[s,k,S]);var E=o&&(o.hasNext||o.hasPrev),D=t.reduce(function(e,n){return e.set(n.id,n)},new Map);return(0,i.FD)(A.S,{css:Q.self,children:[t.length>0?(0,i.Y)(R.z,{name:n,css:Q.list,value:f.id.toString(),onChange:function(e){var n=e.target.value,t=c()(n,10);if(!l()(t)){m(t);var r=D.get(t);r&&"custom"===r.type&&(0,_.Ot)({themeId:t,colorScheme:r.colorScheme,isAlreadyInstalled:r.isInstalledByCurrentUser,isAuthor:r.isCurrentUserThemeAuthor,context:_.iu.AccountPage});return}(0,C.me)(n)&&m(n)},children:t.map(function(e){return(0,i.Y)(Z,{theme:e,themesLoading:s||v,refetchOptions:u},e.id)})}):(0,i.Y)(d.u,{text:void 0===p?"Looks like there's nothing here. Click above to try making your own theme!":p}),E?(0,i.FD)(A.S,{css:Q.paginationWrapper,children:[(0,i.Y)(q.K0,{size:32,css:Q.paginationButton(!!s&&b),disabled:!o.hasPrev||s,alt:"Previous page",onClick:function(){k(!0),o.onPrevClick()},children:(0,i.Y)(J.A,{})}),(0,i.Y)(q.K0,{size:32,css:Q.paginationButton(!!s&&y),disabled:!o.hasNext||s,alt:"Next page",onClick:function(){S(!0),o.onNextClick()},children:(0,i.Y)(G.A,{})})]}):null]})}},96809:(e,n,t)=>{t.d(n,{A:()=>p});var r=t(34837),i=t(70764),a=t(18712),o=t(40756),l=t(91953),s=t(25227),c=t(33683),u=s.D.form,d=(0,i.x)({content:[a.wp.colWithGap(24)]});function p(e){return(0,r.FD)(u,{css:d.content,onSubmit:function(n){n.preventDefault(),e.onConfirm()},children:[(0,r.Y)(l.Y9,{variant:"headerDefault",level:2,children:e.title}),"string"==typeof e.children?(0,r.Y)(l.EY,{children:e.children}):e.children,(0,r.FD)(s.S,{row:!0,gap:12,justify:"end",children:[(0,r.Y)(o.$n,{type:"button",onClick:e.onCancel,text:"Cancel"}),(0,r.Y)(o.$n,{type:"submit",disabled:e.loading,iconLeft:e.loading?(0,r.Y)(c.A,{}):e.confirmIcon,colorway:e.isDestructive?"negative":"primary",text:e.confirmLabel||"Confirm"})]})]})}},99684:(e,n,t)=>{t.d(n,{p:()=>l});var r=t(34837),i=t(5753),a=t(93868),o=t(67526),l=function(){return(0,r.Y)(a.v,{href:i.R,target:"_blank",rel:"noopener",text:"Need help? Read the docs",variant:"underlinedOnHover",colorway:"primary",iconLeft:(0,r.Y)(o.A,{})})}}}]);
//# sourceMappingURL=3288-5d219f7f0f030457.js.map