!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="c7016bda-603a-44f9-9111-2fc1df3b7b3d",e._sentryDebugIdIdentifier="sentry-dbid-c7016bda-603a-44f9-9111-2fc1df3b7b3d")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"7cb832ac"},(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7122],{792:(e,t,r)=>{"use strict";r.d(t,{o:()=>s});var n=r(29935),i=r(12694),o=r(82643),l=r(59270),a=r(36316),u=r(36163),c=r(49555);function s(e){return(0,n._)(function(e){var t,r,s,f,d,p,h,v,g;return(0,o.YH)(this,function(m){switch(m.label){case 0:return t=e.dotReplit,[4,Promise.all([(r=e.fs).readDir(u.Dl),(0,n._)(function(){var e;return(0,o.YH)(this,function(r){switch(r.label){case 0:if("function"==typeof t)return[2,t()];return[4,t.getConfig()];case 1:return[2,null==(e=r.sent().config)?void 0:e.entrypoint]}})})()])];case 1:if(f=(s=i._.apply(void 0,[m.sent(),2]))[0],d=s[1],!f||f.error)throw Error("Could not read files");return h=(p=f.children).find(function(e){return e.type===c.pt.File&&e.filename.toLowerCase().endsWith("readme.md")}),v=p.filter(function(e){return e.type===c.pt.File}).map(function(e){return e.filename}),[4,(0,n._)(function(){var e,t;return(0,o.YH)(this,function(n){switch(n.label){case 0:if(!(e=d))return[2,null];if(!(0,l._6)(e))return[2,v.includes(e)?e:null];return[4,r.stat(e)];case 1:return[2,(t=n.sent()).exists&&t.type===c.pt.File?e:null]}})})()];case 2:if(g=m.sent())return[2,{entrypoint:g,readmeFile:null==h?void 0:h.filename}];return[2,{entrypoint:function(e){var t=e.find(function(e){return e.toLowerCase().endsWith("readme.md")});if(t)return t;if(e.includes("Makefile"))return"Makefile";var r=e.find(l.e$);return r||e.find(function(e){return![".replit","replit.nix"].includes(e)&&!(0,a.RZ)(e)&&!(0,a._L)(e)})}(v),readmeFile:null==h?void 0:h.filename}]}})}).apply(this,arguments)}},6506:(e,t,r)=>{"use strict";r.d(t,{Af:()=>f,EZ:()=>u,J0:()=>o,rM:()=>c,vO:()=>s});var n=r(76957),i=r(49313),o=(0,n.eU)(null),l=(0,n.eU)(function(e){var t=e(o);return(null==t?void 0:t.isVisible)?t.path:null}),a=(0,n.eU)(null,function(e,t,r,n){switch(n.type){case"focus":return void t(o,{hasFocus:!0,isVisible:!0,position:n.position,path:r});case"update":return void t(o,{hasFocus:n.hasFocus,isVisible:!0,position:n.position,path:r});case"blur":return void t(o,function(e){var t;return{hasFocus:!1,isVisible:!!(null==e?void 0:e.isVisible),position:null!=(t=null==e?void 0:e.position)?t:{line:1,column:1,offset:0},path:r}});case"unmount":return void t(o,null);case"hidden":return void t(o,function(e){var t;return{hasFocus:!1,isVisible:!1,position:null!=(t=null==e?void 0:e.position)?t:{line:1,column:1,offset:0},path:r}});case"unhidden":return void t(o,function(e){var t;return{hasFocus:!!(null==e?void 0:e.hasFocus),isVisible:!0,position:null!=(t=null==e?void 0:e.position)?t:{line:1,column:1,offset:0},path:r}})}});function u(){return(0,i.ob)(a)}function c(){return(0,i.h)(l)}function s(){return(0,i.Ou)(o)}function f(){return(0,i.AI)(o)}},7471:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(17844),i=r(93629),o=r(34837),l=r(25590);function a(e){return(0,o.Y)(l.Ay,(0,i._)((0,n._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M14.558 2.724A6.25 6.25 0 0 1 23.202 8.5a6.249 6.249 0 0 1-1.832 4.42l-8.84 8.84a.75.75 0 0 1-1.06 0l-8.84-8.84a6.251 6.251 0 1 1 8.84-8.84l.53.53.53-.53a6.25 6.25 0 0 1 2.028-1.356ZM20.31 5.14a4.75 4.75 0 0 0-6.72 0L12.53 6.2a.75.75 0 0 1-1.06 0l-1.06-1.06a4.751 4.751 0 0 0-6.72 6.72L12 20.17l8.31-8.31a4.752 4.752 0 0 0 0-6.72Z",clipRule:"evenodd"})}))}},9828:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n={brand:{darkBlue:"#0D101E",lightBlue:"#68CDEE",gray:"#6D7D84"},main:{green:{dark:"#0A6640",default:"#0F9960",light:"#3DCC91",25:"rgba(15,153,96,0.25)",15:"rgba(15,153,96,0.15)"},red:{dark:"#A82A2A",default:"#DB3737",light:"#FF7373",25:"rgba(219, 55, 55, 0.25)",15:"rgba(219, 55, 55, 0.15)"},blue:{dark:"#0068AD",default:"#0097FB",light:"#73C4FA",25:"rgba(0, 151, 251, 0.25)",15:"rgba(0, 151, 251, 0.15)"},orange:{dark:"#A14809",default:"#E16D1A",light:"#FC9C58",25:"rgba(225, 109, 26, 0.25)",15:"rgba(225, 109, 26, 0.15)"},purple:{dark:"#6213B1",default:"#9D43F7",light:"#BF80FF",25:"rgba(98, 19, 177, 0.25)",15:"rgba(98, 19, 177, 0.15)"},gold:{dark:"#A67908",default:"#D99E0B",light:"#FFC940",25:"rgba(217, 158, 11, 0.25)",15:"rgba(217, 158, 11, 0.15)"}},neutrals:{black:"#21242C",white:"#FFFFFF",offWhite:"#F7F8FA",black64:"rgba(33, 36, 44, 0.64)",black50:"rgba(33, 36, 44, 0.50)",black16:"rgba(33, 36, 44, 0.16)",black8:"rgba(33, 36, 44, 0.08)",white64:"rgba(255, 255, 255, 0.64)",white50:"rgba(255, 255, 255, 0.50)",white16:"rgba(255, 255, 255, 0.16)",white8:"rgba(255, 255, 255, 0.08)"},multiplayer:{green:"#1BC47D",red:"#EF5533",blue:"#18A0FB",purple:"#907CFF",teal:"#00B5CE",pink:"#EE46D3"},languages:{java:"#b07219",scheme:"#1e4aec",clojure:"#db5855",haskell:"#5e5086",lua:"#000080",ruby:"#701516",python:"#3572A5",go:"#00ADD8",cpp:"#f34b7d",c:"#555555","c#":"#178600","f#":"#b845fc",rust:"#dea584",swift:"#ffac45",r:"#198CE7",bash:"#000000",crystal:"#000100",julia:"#a270ba",elixir:"#6e4a7e",nim:"#37775b",dart:"#00B4AB",erlang:"#B83998",typescript:"#2b7489",elisp:"#c065db",sql:"#e34c26",php:"#4F5D95",html:"#e34c26",css:"#563d7c",javascript:"#f1e05a"},brands:{github:"#181717",twitter:"#00A8FF",discord:"#7289DA",facebook:"#3B5998",linkedin:"#0077B5"}}},13481:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var n=r(17844),i=r(34837),o=r(21462),l=r(73496),a=r(860),u=r(23491),c=r(75994),s=r(90479),f=(0,o.memo)(s.Ay);function d(e){var t=e.source,r=e.sourcePos,o=e.fs,s=e.path,d=e.onCodeInsert,p=(0,u.l)(o,s),h=(0,l.A)(t,100),v=(0,a.A)(function(){return{img:p,a:function(e){return(0,i.Y)(c.A,(0,n._)({filePath:s},e))}}},[p,s]);return(0,i.Y)(f,{onCodeInsert:d,components:v,sourcePos:r,children:h})}},14420:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(17844),i=r(93629),o=r(34837),l=r(25590);function a(e){return(0,o.Y)(l.Ay,(0,i._)((0,n._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M12 4.25a.75.75 0 0 1 .75.75v12.19l5.72-5.72a.75.75 0 1 1 1.06 1.06l-7 7a.75.75 0 0 1-1.06 0l-7-7a.75.75 0 1 1 1.06-1.06l5.72 5.72V5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"})}))}},19170:(e,t,r)=>{"use strict";r.d(t,{Q4:()=>R,DJ:()=>U,q6:()=>I});var n=r(29935),i=r(12694),o=r(86105),l=r(82643),a=r(21462),u=r(23099),c=r.n(u),s=r(35992),f=r(76957),d=r(69737),p=r(96907),h=r.n(p),v=r(12584);function g(){var e=(0,v._)(["\n  query WorkspaceSessionPresence($userIds: [Int!]!) {\n    usersByIds(ids: $userIds) {\n      id\n      image\n    }\n  }\n"]);return g=function(){return e},e}var m=(0,r(41114).J1)(g()),y=r(24270),w=r(860),b=r(77958),x=r(83215),D=r(49313),S=(0,f.eU)(new Map),_=(0,f.eU)(null,function(e,t,r){return t(S,function(e){return(0,s.jM)(e,function(e){e.set(r.userId,r.color)})})});function U(){var e=(0,D.Ou)(E),t=(0,D.ob)(_);return(0,a.useCallback)(function(r){var n,i=e(),o=null==(n=i.get(r.userId))?void 0:n.color;return o||t({color:o=(0,x.a4)(Object.values(i)),userId:r.userId}),o},[e,t])}function A(e,t,r,n){var i=n||{timestamp:Math.floor(Date.now()/1e3),activeFile:null},l=e.get(t.id);if(l)return void l.sessions.set(t.session,i);e.set(t.id,{id:t.id,username:t.name,color:null!=r?r:(0,x.a4)((0,o._)(e.values())),roles:t.roles,sessions:new Map([[t.session,i]])})}var E=(0,f.eU)(new Map);(0,d.mg)(E,function(e){var t=new Map,r=!0,n=!1,o=void 0;try{for(var l,a=e[Symbol.iterator]();!(r=(l=a.next()).done);r=!0){var u=(0,i._)(l.value,2)[1],c=null,s=!0,f=!1,d=void 0;try{for(var p,h=u.sessions[Symbol.iterator]();!(s=(p=h.next()).done);s=!0){var v=(0,i._)(p.value,2)[1];v.activeFile&&(c&&c.timestamp>v.timestamp||(c=v))}}catch(e){f=!0,d=e}finally{try{s||null==h.return||h.return()}finally{if(f)throw d}}if(null==c?void 0:c.activeFile){var g=t.get(c.activeFile),m={id:u.id,username:u.username,image:u.image,color:u.color,roles:u.roles};g?g.push(m):t.set(c.activeFile,[m])}}}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t},c());var C=(0,d.mg)(E,function(e){return(0,o._)(e.values()).map(function(e){return{id:e.id,username:e.username,color:e.color,image:e.image,roles:e.roles}})},c());function R(){return(0,D.h)(C)}function Y(e){var t=e.id,r=e.name,n=e.session,i=e.roles;return t&&r&&n&&i?{id:t,name:r,session:n,roles:i}:null}function P(e){var t=e.seconds,r=e.nanos;return"number"!=typeof t||"number"!=typeof r?null:(0,x.iY)({seconds:t,nanos:r})}var F=(0,f.eU)(null,function(e,t,r,n){t(E,function(t){return(0,s.jM)(t,function(t){var o;if(null==(o=r.roster)?void 0:o.user){var l=!0,a=!1,u=void 0;try{for(var c,s=r.roster.user[Symbol.iterator]();!(l=(c=s.next()).done);l=!0){var f=c.value,d=Y(f);if(null!==d&&(null==d?void 0:d.id)!==n){var p=function(e,t){if(!e.files)return null;var r=e.files.find(function(e){return e.userId===t.id&&e.session===t.session});if(!r)return null;var n=r.timestamp?P(r.timestamp):null;return n?{activeFile:r.file||null,timestamp:n}:null}(r.roster,d),h=e(S).get(d.id);A(t,d,h,p)}}}catch(e){a=!0,u=e}finally{try{l||null==s.return||s.return()}finally{if(a)throw u}}return}if(r.join){var v=Y(r.join);if(!v||v.id===n)return;var g=e(S).get(v.id);A(t,v,g);return}if(r.part){var m,y,w=r.part,b=w.id,x=w.session;if(!b||!x)return;m={id:b,session:x},(y=t.get(m.id))&&(1===y.sessions.size?t.delete(m.id):y.sessions.delete(m.session));return}if(r.fileOpened){var D=r.fileOpened,_=D.session,U=D.userId,E=D.file,C=r.fileOpened.timestamp?P(r.fileOpened.timestamp):null;if(!C||!_||!U||!E)return;var R=C,F=_,k=U,I=E,T=t.get(k);if(T){var z=T.sessions.get(F);z?(z.timestamp=R,z.activeFile=I):T.sessions.set(F,{timestamp:R,activeFile:I})}return}if(r.sessionTimestampUpdated){var M=r.sessionTimestampUpdated.session,L=r.sessionTimestampUpdated.timestamp?P(r.sessionTimestampUpdated.timestamp):null;if(!L||!M)return;!function(e,t){var r=t.session,n=t.timestamp,o=!0,l=!1,a=void 0;try{for(var u,c=e[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var s=(0,i._)(u.value,2)[1].sessions.get(r);if(s){s.timestamp=n;break}}}catch(e){l=!0,a=e}finally{try{o||null==c.return||c.return()}finally{if(l)throw a}}}(t,{timestamp:L,session:M});return}})})}),k=(0,f.eU)(null,function(e,t){return(0,n._)(function(){var r,n,o,a,u,c,f,d,p,h,v;return(0,l.YH)(this,function(l){switch(l.label){case 0:r=[],n=e(E),o=!0,a=!1,u=void 0;try{for(c=n[Symbol.iterator]();!(o=(f=c.next()).done);o=!0)p=(d=(0,i._)(f.value,2))[0],d[1].image||r.push(p)}catch(e){a=!0,u=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw u}}if(!r.length)return[2];return[4,null===b.V||void 0===b.V?void 0:b.V.query({query:m,variables:{userIds:r}})];case 1:if(!(v=null==(h=l.sent())?void 0:h.data.usersByIds))return[2];return t(E,function(e){return(0,s.jM)(e,function(e){var t=!0,r=!1,n=void 0;try{for(var i,o=v[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var l=i.value,a=e.get(l.id);a&&(a.image=l.image)}}catch(e){r=!0,n=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw n}}})}),[2]}})})()});function I(){var e=(0,y.T)(),t=(0,D.ob)(k),r=(0,D.ob)(F),n=(0,D.AI)(E);return(0,a.useEffect)(function(){t();var e=h()(t,2e3);return n.subscribe(function(){return e()})},[t,n]),(0,w.A)(function(){return function(t){e&&r(t,e)}},[r,e])}},23787:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(17844),i=r(93629),o=r(34837),l=r(25590);function a(e){return(0,o.Y)(l.Ay,(0,i._)((0,n._)({},e),{children:(0,o.Y)("path",{d:"M20.76 4.47a19.848 19.848 0 0 0-4.951-1.524c-.234.419-.446.85-.634 1.29a18.439 18.439 0 0 0-5.495 0c-.19-.44-.4-.871-.635-1.29A19.99 19.99 0 0 0 4.09 4.474C.957 9.11.107 13.63.532 18.087a19.96 19.96 0 0 0 6.073 3.05c.491-.662.926-1.364 1.3-2.098a12.916 12.916 0 0 1-2.048-.978c.172-.125.34-.253.502-.377a14.266 14.266 0 0 0 12.142 0 7.1 7.1 0 0 0 .502.377c-.654.386-1.34.714-2.052.98.373.734.808 1.435 1.3 2.095a19.868 19.868 0 0 0 6.077-3.047c.498-5.168-.851-9.647-3.568-13.62ZM8.443 15.347c-1.183 0-2.161-1.074-2.161-2.396 0-1.321.944-2.405 2.157-2.405 1.214 0 2.184 1.084 2.164 2.405-.021 1.322-.954 2.396-2.16 2.396Zm7.974 0c-1.186 0-2.16-1.074-2.16-2.396 0-1.321.944-2.405 2.16-2.405 1.215 0 2.178 1.084 2.157 2.405-.02 1.322-.951 2.396-2.157 2.396Z"})}))}},30764:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i,v:()=>o});var n=r(59270),i=function(e){return e.Media="Media",e.Binary="Binary",e.Code="Code",e.Markdown="Markdown",e.Draw="Draw",e}({});function o(e){return(0,n.e$)(e)?"Markdown":(0,n.P1)(e)?"Draw":(0,n.FN)(e)?"Media":(0,n.Go)(e)?"Binary":"Code"}},38693:e=>{e.exports={surface:"InlineCode_surface__XllZg"}},42602:(e,t,r)=>{"use strict";r.d(t,{A:()=>i,l:()=>n});var n="https://twitter.com/intent/tweet";function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.text,r=e.url,i=e.hashtags,o=e.via,l=new URLSearchParams;t&&l.append("text",t),r&&l.append("url",r),i&&l.append("hashtags",i.join(",")),o&&l.append("via",o);var a=l.toString();return a.length>0?"".concat(n,"?").concat(a):n}},43383:(e,t,r)=>{"use strict";r.d(t,{A:()=>S});var n=r(34837),i=r(19786),o=r(73712),l=r(70764),a=r(18712),u=r(40756),c=r(93868),s=r(73455),f=r(59784),d=r(91953),p=r(90233),h=r(25227),v=r(13298),g=r(64053),m=r(17844),y=r(93629),w=r(25590),b=function(e){return(0,n.Y)(w.Ay,(0,y._)((0,m._)({viewBox:"0 0 800.5 907.77"},e),{children:(0,n.Y)("path",{d:"M303.36,238.61c31.36-21.37,71.76-12.97,65-6.53c-12.89,12.28,4.26,8.65,6.11,31.31 c1.36,16.69-4.09,25.88-8.78,31.11c-9.79,1.28-21.69,3.67-36.02,8.33c-8.48,2.76-15.85,5.82-22.31,8.9 c-1.7-1.11-3.55-2.47-5.74-4.36C279.5,288.19,280.24,254.37,303.36,238.61 M490.68,370.72c5.69-4.41,31.55-12.72,55.49-15.55 c12.57-1.48,30.49-2.34,34.31-0.2c7.59,4.19,7.59,17.16,2.39,29.14c-7.57,17.4-18.27,36.63-30.39,38.21 c-19.77,2.61-38.46-8.09-59.8-24.03C485.06,392.56,480.38,378.68,490.68,370.72 M526.75,201.27c29.19,13.58,25.37,39.42,26.18,54.6 c0.22,4.36,0.15,7.3-0.22,9.32c-4.04-2.19-10.43-3.8-20.56-3.35c-2.96,0.12-5.84,0.47-8.63,0.91c-10.77-5.77-17.21-17.06-23.1-29.06 c-0.54-1.11-0.96-2.1-1.36-3.06c-0.17-0.44-0.35-0.91-0.52-1.31c-0.07-0.22-0.12-0.39-0.2-0.59c-3.23-10.25-1.06-12.3,0.3-15.46 c1.41-3.23,6.68-5.89-1.11-8.58c-0.67-0.25-1.5-0.39-2.44-0.57C500.25,197.72,515.7,196.17,526.75,201.27 M367.62,510.22 c-31.45-20.19-63.99-49.15-78.22-65.18c-2.39-1.8-2-9.79-2-9.79c12.84,9.98,66.11,48.04,122.44,65.42 c19.87,6.14,50.36,8.46,76.81-6.53c20.21-11.46,44.54-31.43,59.06-52.01l2.66,4.61c-0.1,3.06-6.78,17.97-10.18,23.96 c6.14,3.53,10.72,4.49,17.55,6.36l46.64-7.27c16.74-27.04,28.74-70.65,15.95-112.16c-7.3-23.81-45.36-71.22-48.09-73.83 c-9.56-9.19,1.6-44.69-17.35-83.42C532.86,159.41,480.67,116.69,458,98.1c6.68,4.88,47.82,21.47,67,44.62 c1.8-2.39,2.54-14.82,4.19-17.97c-16.47-21.57-17.75-59.95-17.75-70.21c0-18.81-9.56-40.13-9.56-40.13s16.47,13.04,20.73,35.5 c5.03,26.6,15.75,47.55,29.93,65.28c26.84,33.43,51.08,50.58,63.33,38.23C630.53,138.58,601,72.2,563.28,35.15 C519.25-8.09,507.74-2.52,481.91,6.7c-20.61,7.35-31.75,65.87-85.47,64.71c-9.1-1.06-32.54-1.63-44.13-1.53 c6.04-8.43,11.22-14.94,11.22-14.94s-18.02,7.25-33.38,16.44l-1.18-1.77c5.18-10.92,10.75-17.82,10.75-17.82s-14.4,8.65-27.54,19.01 c2.39-13.02,11.44-21.27,11.44-21.27s-18.19,3.28-41.36,28.77c-26.33,7.2-32.66,11.93-53.64,21.22 c-34.12-7.44-50.21-19.45-65.55-41.56c-11.68-16.89-32.47-19.45-53.71-10.72c-30.97,12.8-70.14,30.33-70.14,30.33 s12.77-0.52,26.08,0.05c-18.22,6.9-35.72,16.39-35.72,16.39s8.53-0.3,19.06-0.12c-7.27,6.04-11.29,8.92-18.22,13.51 c-16.66,12.1-30.17,26.08-30.17,26.08s11.31-5.15,21.47-8.04c-7.1,16.27-21.18,28.25-18.59,48.17 c2.49,18.19,24.82,55.66,53.64,78.66c2.49,2,41.86,38.43,71.56,23.47c29.68-14.94,41.39-28.25,46.27-48.66 c5.74-23.44,2.47-41.17-9.79-92.05c-4.04-16.79-14.57-51.37-19.65-67.91l1.13-0.81c9.71,20.49,34.56,74.5,44.57,110.78 c15.63,56.57,10.75,85.27,3.6,95.79c-21.57,31.73-76.84,35.92-101.98,18.34c-3.85,60.91,9.76,87.73,14.37,101.24 c-2.29,15.53,7.77,44.37,7.77,44.37s1.13-13.11,5.74-20.02c1.23,15.41,9,33.72,9,33.72s-0.47-11.31,3.06-21.08 c4.98,8.43,8.63,10.43,13.34,16.76c4.71,16.47,14.15,28.5,14.15,28.5s-1.53-8.83-0.69-18.02c23.05,22.14,27.02,54.45,29.31,79.28 c6.46,68.26-107.63,122.54-129.74,165.24c-16.76,25.29-26.8,65.3,1.58,88.89c68.6,56.97,42.25,72.65,76.59,97.69 c47.11,34.34,106.05,18.96,126.11-8.97c27.93-38.92,20.76-75.63,10.38-109.97c-8.11-26.85-30.15-71.46-57.41-88.72 c-27.86-17.65-54.95-20.95-77.9-18.59l2.12-2.44c33.01-6.56,67.52-2.96,92.49,13.14c28.35,18.22,54.28,49.47,67.84,97.37 c15.38-2.19,17.55-3.18,31.63-5.18l-31.7-246.76L367.62,510.22z M385.94,819.52l-3.65-34.22l71.29-108.74l80.93,23.64l69.59-116.23 L687.52,639l63.38-132.92l22.53,242.07L385.94,819.52z M774.27,456.51l-254.72,46.17c-6.31,8.13-21.91,22.41-29.41,26.13 c-32.17,16.2-53.91,11.51-72.7,6.63c-12.08-3.06-19.08-4.78-29.11-9.29l-62.17,8.53l37.74,314.87l436.35-78.66L774.27,456.51z"})}))},x=r(63731),D=(0,l.x)({styles0:[{alignItems:"center"}],styles1:[a.wp.align.center]});function S(e){var t=e.replId,r=e.showFlag,l=e.buttonsOnly,a=(0,o.D)().isDarkColorScheme;return(0,n.FD)(n.FK,{children:[(0,n.Y)(c.v,{href:"https://us5.datadoghq.com/logs?"+new URLSearchParams({query:"@replid:".concat(t)}).toString(),iconLeft:(0,n.Y)(b,{color:a?"#FFFFFF":"#632CA6"}),iconRight:(0,n.Y)(v.A,{}),target:"_blank",text:"View Datadog Logs by Repl ID"}),(0,n.Y)(c.v,{href:"https://us5.datadoghq.com/logs?"+new URLSearchParams({query:"@replid:".concat(t),agg_q:"@containerid",agg_q_source:"base",cols:"host,service",messageDisplay:"inline",stream_sort:"desc",top_n:"30",top_o:"top",viz:"transaction",x_missing:"true",live:"true"}).toString(),iconLeft:(0,n.Y)(b,{color:a?"#FFFFFF":"#632CA6"}),iconRight:(0,n.Y)(v.A,{}),target:"_blank",text:"View Datadog Logs by Container ID"}),void 0!==l&&l?(0,n.Y)(p.m_,{maxWidth:300,tooltip:(0,n.Y)(d.EY,{multiline:!1,children:t}),children:(0,n.Y)(u.$n,{iconLeft:(0,n.Y)(g.A,{}),text:"Copy Repl ID",onClick:function(){return(0,i.default)(t)}})}):(0,n.FD)(h.S,{css:D.styles0,row:!0,gap:2,children:[void 0!==r&&r?(0,n.FD)(p.m_,{tooltip:"You are seeing this functionality because you have special permissions.",children:[(0,n.Y)(x.A,{})," "]}):null,(0,n.FD)(d.EY,{css:D.styles1,multiline:!1,children:["Repl ID: ",(0,n.Y)(f.R,{children:t})]}),(0,n.Y)(s.K0,{alt:"Copy to clipboard",onClick:function(){return(0,i.default)(t)},children:(0,n.Y)(g.A,{})})]})]})}},46138:(e,t,r)=>{"use strict";r.d(t,{J:()=>ni,u:()=>nn});var n,i,o,l,a,u=r(83846),c=r(86105),s=r(34837),f=r(21462),d=r(49555),p=r(77135),h=r(14229),v=r(29935),g=r(12694),m=r(82643),y=r(76957),w=r(59270),b=r(35992),x=r(69737),D=r(63806),S=r(36163),_=r(1874),U=r(41390),A=r(82120),E="No files",C="Loading...";function R(e,t){var r=t.fromIndex;if("next"===t.dir){for(var n=r+1;n<e.length;n++){var i=e[n];if(i&&("dir"===i.type||"file"===i.type))return i}return null}for(var o=r-1;o>=0;o--){var l=e[o];if(l&&("dir"===l.type||"file"===l.type))return l}return null}function Y(e,t,r){if(r){var n=D.ap.includes(t.filename),i=D.ap.includes(e.filename);if(n&&!i)return -1;if(!n&&i)return 1;var o=D.UC.includes(t.filename),l=D.UC.includes(e.filename);if(o&&!l)return -1;if(!o&&l)return 1}return t.type===d.pt.Directory&&e.type!==d.pt.Directory?1:e.type===d.pt.Directory&&t.type!==d.pt.Directory?-1:(0,w.yh)(e.filename,t.filename)}function P(e){var t=e.row,r=e.baseDepth;return"dir"===t.type||"file"===t.type||"uploadFile"===t.type?t.path===S.Dl?0:(0,w.jP)(t.path)-1-r:t.dir===S.Dl?0:(0,w.jP)(t.dir)-r}var F=function(e,t){return e===S.Dl?t:e+"/"+t},k=function(e,t){return e===S.Dl&&1===(0,w.jP)(t)||(0,_.GG)(e,t)},I=(0,y.eU)(new Map),T=(0,y.eU)({width:0,height:0}),z=(0,y.eU)(0),M=(0,y.eU)(null),L=(0,y.eU)(new Map),O=(0,y.eU)(function(e){var t;return null!=(t=e(V).root)?t:S.Dl}),N=(0,y.eU)(null),Z=(0,y.eU)(void 0),H=(0,y.eU)(null),W=(0,y.eU)(null,function(e,t,r){e(q)||t(H,r)}),j=(0,y.eU)(function(e){var t=e(V).root,r=void 0===t?S.Dl:t;return r===S.Dl?0:(0,w.jP)(r)}),B=(0,y.eU)(function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=[],n=0,i=!0,o=!1,l=void 0;try{for(var a,u=(0,c._)(e.values()).sort(function(e,t){return e.index-t.index})[Symbol.iterator]();!(i=(a=u.next()).done);i=!0){var s=a.value,f={height:s.height,y:s.y,cols:[]};if(r.push(f),0!==s.depth){var d=s.depth+t;d>n&&(n=d);for(var p="divider"===s.row.type||"error"===s.row.type||"create"===s.row.type||"emptyDir"===s.row.type?s.row.dir:(0,w._6)(s.row.path),h=p.split("/"),v=0;v<(0,w.jP)(p);v++){var m=h.slice(0,Number(v+1)).join("/");f.cols.push(m)}}}}catch(e){o=!0,l=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw l}}for(var y=new Map,b=t;b<n;b++){var x=[];y.set(b,x);var D=!0,S=!1,_=void 0;try{for(var U,A=r[Symbol.iterator]();!(D=(U=A.next()).done);D=!0){var E=U.value,C=E.cols[b],R=E.y;if(C){var Y=x[x.length-1];Y&&Y.y+Y.height===R?Y.height+=E.height:x.push({y:R,height:E.height,dir:C,depth:b-t})}}}catch(e){S=!0,_=e}finally{try{D||null==A.return||A.return()}finally{if(S)throw _}}}var P=[],F=!0,k=!1,I=void 0;try{for(var T,z=y[Symbol.iterator]();!(F=(T=z.next()).done);F=!0){var M=(0,g._)(T.value,2),L=(M[0],M[1]);P.push.apply(P,(0,c._)(L))}}catch(e){k=!0,I=e}finally{try{F||null==z.return||z.return()}finally{if(k)throw I}}return P}(e(L),e(j))}),G=(0,y.eU)(!1),K=(0,y.eU)(null,function(e,t,r){var n=new Map,i=e(ev),o=e(j),l=!0,a=!1,u=void 0;try{for(var c,s=r.rows[Symbol.iterator]();!(l=(c=s.next()).done);l=!0){var f=c.value,d=f.key.toString(),p=i[f.index];if(p){var h=Math.max(0,P({row:p,baseDepth:o}));n.set(f.index,{y:f.start+8,height:f.size,index:f.index,key:d,depth:h,row:p})}}}catch(e){a=!0,u=e}finally{try{l||null==s.return||s.return()}finally{if(a)throw u}}t(L,n),t(z,r.scrollHeight+16)}),V=(0,y.eU)({}),X=(0,x.mg)(V,function(e){var t;return null!=(t=e.onContextMenu)?t:null}),q=(0,y.eU)(function(e){return!!e(V).readOnly||!e(G)}),J=(0,y.eU)(function(e){var t;return null!=(t=e(V).fontSize)?t:14}),$=function(e,t){if("divider"===t)switch(e){case 10:return 28;case 12:case 13:case 14:return 38;case 18:return 44;default:return 48}switch(e){case 10:return 18;case 12:case 13:return 24;case 14:return 32;case 18:return 38;default:return 40}},Q=(0,y.eU)(function(e){return $(e(J),"file")}),ee=function(e){switch(e){case 10:case 12:return 12;case 13:case 14:return 16;case 18:return 20;default:return 24}},et=(0,y.eU)(function(e){return ee(e(J))}),er=(0,y.eU)(function(e){return 14>e(J)?4:8}),en=(0,y.eU)(function(e){return 14>=e(J)?4:8}),ei=(0,y.eU)(function(e){return 13===e(J)?6:16>e(J)?4:8}),eo=function(e){switch(e){case 10:return 10;case 12:case 13:case 14:return 12;case 18:return 14;default:return 18}},el=function(e){switch(e){case 10:return 12;case 12:case 13:return 16;case 14:return 24;case 18:return 32;default:return 40}},ea=(0,y.eU)(function(e){return el(e(J))}),eu=(0,y.eU)(function(e){return eo(e(J))}),ec=function(e){switch(e){case 10:case 12:case 13:return 10;case 14:case 18:return 16;default:return 20}},es=(0,y.eU)(function(e){return ec(e(J))}),ef=(0,y.eU)(new Map);function ed(e){var t=e.filename;return D.ap.includes(t)?"Config files":D.UC.includes(t)?"Packager files":null}var ep=(0,y.eU)([]),eh=(0,y.eU)([]),ev=(0,y.eU)(function(e){var t,r,n=e(V),i=n.filter,o=n.alwaysShowCreateRow,l=n.root,a=void 0===l?S.Dl:l,u=n.sort,s=n.readOnly;return function(e){var t=e.root,r=void 0===t?S.Dl:t,n=e.dirInfo,i=e.filter,o=e.sort,l=e.getSection,a=e.readOnly,u=e.pendingUploads,s=e.pendingMoves,f=e.pathBeingRenamed,p=e.alwaysShowCreateRow,h=[],v=(null==u?void 0:u.length)?function(e){var t=new Map,r=!0,n=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done);r=!0){var a=o.value,u=(0,w._6)(a.targetPath)||S.Dl,c=t.get(u),s={filename:(0,w.WP)(a.targetPath),progress:a.progress};c?c.push(s):t.set(u,[s])}}catch(e){n=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw i}}return t}(u):null,m=new Map,y=new Map;if(null==s?void 0:s.length){var b=!0,x=!1,D=void 0;try{for(var _,E=s[Symbol.iterator]();!(b=(_=E.next()).done);b=!0){var C=_.value,R=C.from,Y=C.to;m.set(R.path,R.type),y.set(Y,R.type)}}catch(e){x=!0,D=e}finally{try{b||null==E.return||E.return()}finally{if(x)throw D}}}return!function e(t){var u=n.get(t);if(!(!u||m.has(t))&&u.expanded){if(t===r&&u.loading&&!u.children)return void h.push({type:"dir",path:t});if(u.error)return void h.push({type:"error",message:u.error.message,dir:t});var s=u.children?(0,c._)(u.children):void 0;(s=null==s?void 0:s.filter(function(e){return!(0,U.yU)(e.filename)}))&&m.size>0&&(s=s.filter(function(e){return!m.has(F(t,e.filename))}));var b=!0,x=!1,D=void 0;try{for(var _,E=y[Symbol.iterator]();!(b=(_=E.next()).done);b=!0)!function(){var e=(0,g._)(_.value,2),r=e[0],n=e[1];if(!k(t,r))return;var i=(0,w.WP)(r);if(null==s?!void 0:!s.some(function(e){return e.filename===i}))s||(s=[]),s.push({filename:i,type:n})}()}catch(e){x=!0,D=e}finally{try{b||null==E.return||E.return()}finally{if(x)throw D}}var C=null==v?void 0:v.get(t);if(C){s||(s=[]);var R=!0,Y=!1,P=void 0;try{for(var I,T=C[Symbol.iterator]();!(R=(I=T.next()).done);R=!0){var z=I.value,M=z.filename,L=z.progress;s.push({filename:M,type:d.pt.File,progress:L})}}catch(e){Y=!0,P=e}finally{try{R||null==T.return||T.return()}finally{if(Y)throw P}}}if(s){if(!u.create&&!C&&s&&0===s.length)return void h.push({type:a?"emptyDir":"create",dir:t});var O=function(e,t){var r=t.getSection,n=[],i=new Map,o=!0,l=!1,a=void 0;try{for(var u,c=e[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var s=u.value,f=r(s),p=s.progress?{type:"upload",progress:s.progress,filename:s.filename}:{type:s.type===d.pt.File?"file":"dir",filename:s.filename};if(!f){n.push(p);continue}var h=i.get(f);if(h){h.push(p);continue}i.set(f,[p])}}catch(e){l=!0,a=e}finally{try{o||null==c.return||c.return()}finally{if(l)throw a}}var v=!0,m=!1,y=void 0;try{for(var w,b=i[Symbol.iterator]();!(v=(w=b.next()).done);v=!0){var x=(0,g._)(w.value,2),D=x[0],S=x[1];n.push({type:"divider",label:D}),(0,A.Yv)(n,S)}}catch(e){m=!0,y=e}finally{try{v||null==b.return||b.return()}finally{if(m)throw y}}return n}(s.filter(i).sort(function(e,n){return o(e,n,t===r)}),{getSection:t===S.Dl?l:function(){return null}}),N=-1,Z=!0,H=!1,W=void 0;try{for(var j,B=O[Symbol.iterator]();!(Z=(j=B.next()).done);Z=!0)!function(){var r=j.value;if("error"===r.type||"emptyDir"===r.type)throw Error("Expected dir, file, or divider row");if("divider"===r.type)return -1===N&&(N=h.length),h.push({type:"divider",dir:t,label:r.label});var i=F(t,r.filename);if("dir"===r.type){var o={type:"dir",path:i};f===i&&(o.rename=!0),y.has(i)&&(o.pending=!0);var l=null==v?void 0:v.get(i);if(l&&(o.uploadProgress=l.map(function(e){return e.progress})),h.push(o),!n.get(i))return;e(i)}else if("upload"===r.type)h.push({type:"uploadFile",path:i,progress:r.progress});else if(!C||!C.some(function(e){return e.filename===r.filename})){var a={type:"file",path:i};f===i&&(a.rename=!0),y.has(i)&&(a.pending=!0),h.push(a)}}()}catch(e){H=!0,W=e}finally{try{Z||null==B.return||B.return()}finally{if(H)throw W}}if(u.create||p){var G={type:"create",dir:t,fileType:u.create?u.create:void 0};-1===N?h.push(G):h.splice(N,0,G)}}}}(r),h}({root:a,dirInfo:e(ef),filter:i,sort:void 0===u?Y:u,readOnly:void 0!==s&&s,getSection:ed,pendingUploads:e(ep),pathBeingRenamed:null!=(t=e(H))?t:void 0,pendingMoves:null!=(r=e(eh))?r:void 0,alwaysShowCreateRow:o})}),eg=(0,y.eU)(function(e){var t=e(M);if(!t)return null;var r=e(ev).findIndex(function(e){return("file"===e.type||"dir"===e.type)&&e.path===t});return -1!==r?r:null}),em=(0,y.eU)(null,function(e,t,r){var n,i=e(eg),o=e(M);if((null==(n=document.activeElement)?void 0:n.tagName)!=="INPUT"&&null!==i&&null!==o){var l=e(ev);switch(r.key){case"ArrowDown":r.preventDefault();var a=R(l,{dir:"next",fromIndex:i});((null==a?void 0:a.type)==="dir"||(null==a?void 0:a.type)==="file")&&t(M,a.path);return;case"ArrowUp":r.preventDefault();var u=R(l,{dir:"previous",fromIndex:i});((null==u?void 0:u.type)==="dir"||(null==u?void 0:u.type)==="file")&&t(M,u.path);return;case"ArrowLeft":case"ArrowRight":r.preventDefault();var c=e(ef).get(o);if(!c)return;"ArrowLeft"===r.key&&c.expanded?t(eb,o):"ArrowRight"!==r.key||c.expanded||t(eD,o);return;case"Enter":case" ":if("Enter"===r.key&&!e(q))return;if(e(ef).has(o))return void t(eS,o);e(V).onFileSelect({event:r,path:o,type:"keydown"});return}}}),ey=(0,y.eU)(null,function(e,t,r){var n;r.path===(null!=(n=e(V).root)?n:S.Dl)&&t(G,!0),t(ef,function(e){return(0,b.jM)(e,function(e){var t=r.path===S.Dl?null:r.path+"/",n=!0,i=!1,o=void 0;try{for(var l,a=r.children[Symbol.iterator]();!(n=(l=a.next()).done);n=!0){var u,c=l.value,s=t?t+c.filename:c.filename,f=e.get(s);if(c.type!==d.pt.Directory){f&&(null==(u=f.disposeWatcher)||u.call(f),e.delete(s));continue}f||e.set(s,{expanded:!1})}}catch(e){i=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}var p=e.get(r.path);p&&(p.children=r.children,p.loading=!1,p.error=void 0)})})}),ew=(0,y.eU)(null,function(e,t,r){var n;r.path===(null!=(n=e(V).root)?n:S.Dl)&&t(G,!0),t(ef,function(e){return(0,b.jM)(e,function(e){var t,n=e.get(r.path);n&&(n.loading=!1,n.error=r.error,null==(t=n.disposeWatcher)||t.call(n),n.disposeWatcher=null)})})}),eb=(0,y.eU)(null,function(e,t,r){var n=Array.isArray(r)?r:[r];t(ef,function(e){return(0,b.jM)(e,function(e){var t=!0,r=!1,i=void 0;try{for(var o,l=n[Symbol.iterator]();!(t=(o=l.next()).done);t=!0){var a=o.value,u=e.get(a);u&&(u.expanded=!1,u.loading=!1,u.disposeWatcher&&(u.disposeWatcher(),u.disposeWatcher=null))}}catch(e){r=!0,i=e}finally{try{t||null==l.return||l.return()}finally{if(r)throw i}}})})}),ex=(0,y.eU)(null,function(e,t,r){t(ef,function(e){return(0,b.jM)(e,function(e){var t,n=e.get(r);n&&(null==(t=n.disposeWatcher)||t.call(n),e.delete(r))})})}),eD=(0,y.eU)(null,function(e,t,r){var n=Array.isArray(r)?r:[r],i=e(V).fs;t(ef,function(e){return(0,b.jM)(e,function(e){var r=!0,o=!1,l=void 0;try{for(var a,u=n[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)!function(){var r,n=a.value,o=null!=(r=e.get(n))?r:{expanded:!0};e.has(n)?o.expanded=!0:e.set(n,o),o.disposeWatcher?o.disposeWatcher():o.loading=!0,o.disposeWatcher=i.watchDir(n,{onError:function(e){return t(ew,{path:n,error:e})},onChange:function(e){return t(ey,{path:n,children:e})},onMoveOrDelete:function(){return t(ex,n)}})}()}catch(e){o=!0,l=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw l}}})})}),eS=(0,y.eU)(null,function(e,t,r){var n=e(ef).get(r);if(!n){t(ef,function(e){return(0,b.jM)(e,function(e){e.set(r,{expanded:!1})})}),t(eD,r);return}n.expanded?t(eb,r):t(eD,r)}),e_=(0,y.eU)(function(e){return e(V).manageWidth?e(G)?function(e){var t=e.rows,r=e.baseDepth,n=[],i=new Map,o=!0,l=!1,a=void 0;try{for(var u,c=t[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var s=u.value,f=function(e){var t=e.row,r=P({row:t,baseDepth:e.baseDepth});switch(t.type){case"file":case"dir":case"uploadFile":return{text:(0,w.WP)(t.path),depth:r};case"error":return{text:t.message,depth:r};case"divider":return{text:t.label,depth:r};case"create":case"emptyDir":return{text:E,depth:r}}}({row:s,baseDepth:r}),d=f.depth,p=f.text,h=i.get(d);if(!h){i.set(d,new Map([[s.type,p]]));continue}var v=h.get(s.type);v&&(null==v?void 0:v.length)>p.length||h.set(s.type,p)}}catch(e){l=!0,a=e}finally{try{o||null==c.return||c.return()}finally{if(l)throw a}}var m=!0,y=!1,b=void 0;try{for(var x,D=i[Symbol.iterator]();!(m=(x=D.next()).done);m=!0){var S=(0,g._)(x.value,2),_=S[0],U=S[1],A=!0,C=!1,R=void 0;try{for(var Y,F=U[Symbol.iterator]();!(A=(Y=F.next()).done);A=!0){var k=(0,g._)(Y.value,2),I=k[0],T=k[1];n.push({depth:_,type:I,text:T})}}catch(e){C=!0,R=e}finally{try{A||null==F.return||F.return()}finally{if(C)throw R}}}}catch(e){y=!0,b=e}finally{try{m||null==D.return||D.return()}finally{if(y)throw b}}return n}({rows:e(ev),baseDepth:e(j)}):[{type:"dir",text:C,depth:1}]:null}),eU=(0,y.eU)(null,function(e,t,r){var n=e(V).onCreateStart;if(n)return void n({parentPath:r.parentPath,fileType:r.fileType});t(eD,r.parentPath),t(ef,function(e){return(0,b.jM)(e,function(e){var t=e.get(r.parentPath);t&&(t.create=r.fileType)})}),t(M,null)}),eA=(0,y.eU)(null,function(e,t,r){t(ef,function(e){return(0,b.jM)(e,function(e){var t=e.get(r);t&&(t.create=void 0)})})}),eE=(0,y.eU)(null,function(e,t,r){var n={path:r.path,type:r.fileType};t(M,n.path),t(eF,{node:n}),t(ef,function(e){return(0,b.jM)(e,function(e){var t=e.get(r.parentPath);t&&(t.create=void 0)})}),n.type===d.pt.Directory&&t(eD,n.path)}),eC=(0,y.eU)(new Map),eR=(0,y.eU)(null),eY=(0,y.eU)(function(e){var t,r;return null!=(r=null==(t=e(eR))?void 0:t.path)?r:null}),eP=(0,y.eU)(!0),eF=(0,y.eU)(null,function(e,t,r){var n=r.node,i=r.mode,o=e(ev),l=e(eR);t(eP,!i),t(eC,function(e){return(0,b.jM)(e,function(e){!function(e,t){var r=t.node,n=t.rows,i=t.mode,o=t.anchor;if(!i){e.clear(),e.set(r.path,r.type);return}if("multi"===i&&e.has(r.path))return e.delete(r.path);if("multi"===i)return e.set(r.path,r.type);var l=r.type===d.pt.Directory?"dir":"file",a=n.findIndex(function(e){return e.type===l&&e.path===r.path});if(-1!==a){var u=(null==o?void 0:o.type)===d.pt.Directory?"dir":"file",c=o?n.findIndex(function(e){return e.type===u&&e.path===o.path}):-1;if(-1!==c){var s=c<a?n.slice(c,a+1):n.slice(a,c+1),f=!0,p=!1,h=void 0;try{for(var v,g=n[Symbol.iterator]();!(f=(v=g.next()).done);f=!0){var m=v.value;("file"===m.type||"dir"===m.type)&&(s.includes(m)?e.set(m.path,"file"===m.type?d.pt.File:d.pt.Directory):e.delete(m.path))}}catch(e){p=!0,h=e}finally{try{f||null==g.return||g.return()}finally{if(p)throw h}}}}}(e,{node:n,rows:o,mode:i,anchor:l})})});var a=e(eC);if(!(a.size>1)){var u=!0,c=!1,s=void 0;try{for(var f,p=a[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var h=(0,g._)(f.value,2),v=h[0],m=h[1];t(eR,{path:v,type:m})}}catch(e){c=!0,s=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw s}}}}),ek=(0,y.eU)(null,function(e,t){t(eC,new Map),t(eP,!0),t(eR,null)}),eI=(0,y.eU)(null,function(e,t,r){return(0,v._)(function(){var n,i,o;return(0,m.YH)(this,function(l){switch(l.label){case 0:return n=e(V).fs,[4,Promise.all(r.map(function(e){return(0,v._)(function(){var t;return(0,m.YH)(this,function(r){switch(r.label){case 0:return[4,n.readDir(e)];case 1:return[2,(t=r.sent()).error?t:{path:e,children:t.children,error:null}]}})})()}))];case 1:if((o=(i=l.sent()).filter(function(e){return null!==e.error})).length)return[2,{errors:o}];return t(ef,function(e){return(0,b.jM)(e,function(e){var t=!0,r=!1,n=void 0;try{for(var o,l=i[Symbol.iterator]();!(t=(o=l.next()).done);t=!0){var a=o.value;if(a.error)throw Error("Unexpected error");var u=e.get(a.path);if(!u){e.set(a.path,{loading:!1,expanded:!0,children:a.children,error:void 0});continue}u.loading=!1,u.expanded=!0,u.children=a.children,u.error=void 0}}catch(e){r=!0,n=e}finally{try{t||null==l.return||l.return()}finally{if(r)throw n}}})}),[2,{errors:null}]}})})()}),eT=(0,y.eU)(null,function(e,t,r){return(0,v._)(function(){var n,i,o,l,a,u,s,f,d;return(0,m.YH)(this,function(p){switch(p.label){case 0:n=e(ef),i=[],o=!0,l=!1,a=void 0;try{var h;for(u=((h=r.path.split("/")).pop(),[S.Dl].concat((0,c._)(h.map(function(e,t){return h.slice(0,t+1).join("/")}))))[Symbol.iterator]();!(o=(s=u.next()).done);o=!0)f=s.value,null!=(d=n.get(f))&&d.expanded||i.push(f)}catch(e){l=!0,a=e}finally{try{o||null==u.return||u.return()}finally{if(l)throw a}}if(!i.length)return[3,2];return[4,t(eI,i)];case 1:p.sent(),p.label=2;case 2:return t(eF,{node:r}),[2]}})})()}),ez=(0,y.eU)(null),eM=(0,y.eU)(null,function(e,t,r){var n=e(ez);if(n)for(var i=e(ev),o=0;o<i.length;o++){var l=i[o];if(("file"===l.type||"dir"===l.type)&&l.path===r&&!(o>n.options.count-1)){n.scrollToIndex(o);break}}}),eL=r(79203),eO=r(26325),eN=r(56813),eZ=(0,f.createContext)(null);function eH(e){return(0,s.Y)(eZ.Provider,{value:e.store,children:e.children})}function eW(){var e=(0,f.useContext)(eZ);if(!e)throw Error("Expected store in context");return e}function ej(e){return(0,eL.md)(e,{store:eW()})}function eB(e){return(0,eN.k)(e,eW())}var eG=function(e){return(0,eL.Xr)(e,{store:eW()})};function eK(e){return(0,eO.yF)((0,f.useCallback)(function(t){return t(e)},[e]),{store:eW()})}var eV=(0,y.eU)(null),eX=(0,y.eU)(null,function(e,t,r){var n=[r];if(!e(eP)){var i=!0,o=!1,l=void 0;try{for(var a,u=e(eC)[Symbol.iterator]();!(i=(a=u.next()).done);i=!0){var c=(0,g._)(a.value,2),s=c[0],f=c[1];r.path!==s&&n.push({path:s,type:f})}}catch(e){o=!0,l=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw l}}}t(eV,(0,w.Ag)(n))}),eq=r(10947),eJ=r(50470),e$=r(83029),eQ=r(98444),e0=r(47993),e1=r(74651),e2=r(97858),e5=r(69945),e4=r.n(e5),e3=r(72138),e7=r(35897),e6=r(27600),e9=r(35141),e8=r.n(e9),te=r(88166),tt=r(33868),tr=r(44232),tn=r(93707),ti=r(23099),to=r.n(ti),tl=r(98565),ta=r(860),tu=r(60910),tc=r(65511);function ts(e){var t=e.fileName,r=e.parentPath,n=r===S.Dl?"":r+"/",i=n+t,o=i.split("/");return{pathPrefix:n,newFilePath:i,segments:o}}function tf(e){return(0,v._)(function(e){var t,r,n,i,o,l,a,u,c,s,f,d,p,h,v,y,b,x,D;return(0,m.YH)(this,function(m){switch(m.label){case 0:if(t=e.fileName,r=e.parentPath,n=e.fs,t.startsWith("/"))return[2,"File names cannot include forward slashes"];o=(i=ts({fileName:t,parentPath:r})).pathPrefix,l=i.newFilePath,a=i.segments,u=!0,c=!1,s=void 0,m.label=1;case 1:m.trys.push([1,7,8,9]),f=Object.entries(a)[Symbol.iterator](),m.label=2;case 2:if(u=(d=f.next()).done)return[3,6];if(h=(p=(0,g._)(d.value,2))[0],v=p[1],y=Number(h),b=[],y!==a.length-1)return[3,4];return[4,n.stat(l)];case 3:m.sent().exists&&b.push((0,w.WP)(l)),m.label=4;case 4:if(!(x=(0,tc.U)({fileName:v,siblingNames:b,parentPath:o+a.slice(0,y).join("/")})))return[3,5];return[2,x];case 5:return u=!0,[3,2];case 6:return[3,9];case 7:return D=m.sent(),c=!0,s=D,[3,9];case 8:try{u||null==f.return||f.return()}finally{if(c)throw s}return[7];case 9:return[2,null]}})}).apply(this,arguments)}function td(e){var t=ts({fileName:e.fileName,parentPath:e.parentPath}),r=t.pathPrefix,n=t.segments,i=!0,o=!1,l=void 0;try{for(var a,u=Object.entries(n)[Symbol.iterator]();!(i=(a=u.next()).done);i=!0){var c=(0,g._)(a.value,2),s=c[0],f=c[1],d=Number(s),p=(0,tc.U)({fileName:f,siblingNames:[],parentPath:r+n.slice(0,d).join("/")});if(p)return p}}catch(e){o=!0,l=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw l}}return null}var tp=r(19944),th=r(18712),tv=(0,tp.v)(["scrollHeight","fontSize","fontSizeSmall","iconSize","horizontalPadding","borderRadius","gutterWidth","minHeight","iconTextGap","rowWidth","rowHeight","rowLeftIndent","rowY","dropPreviewDepth","dropPreviewHeight","dropPreviewY","dropPreviewOpacity","strokeDashoffset","statusColor","statusBackgroundColor","dirStatusIconSize","nodeBackgroundColor","dragPreviewX","dragPreviewY","contextMenuButtonDisplay","hasUnsavedChangesDisplay"]),tg=tv.cssVars,tm=tv.styleTokens,ty={paddingLeft:tm.horizontalPadding,paddingRight:tm.horizontalPadding},tw={"&& svg":{minWidth:tm.iconSize+" !important",minHeight:tm.iconSize+" !important",width:tm.iconSize+" !important",height:tm.iconSize+" !important"}},tb=[th.wp.truncate,{fontSize:tm.fontSize}];function tx(e,t){return e.shiftKey?"bulk":"altKey"===t&&e.altKey||"cmdOrCtrlKey"===t&&(0,tu.T$)(e)?"multi":void 0}var tD=(0,y.eU)(null,function(e,t,r){var n=r.event,i=r.path;t(M,i);var o=e(V).multiselectModifierKey;t(eF,{node:{path:i,type:d.pt.Directory},mode:o?tx(n,o):void 0}),t(M,i),n.shiftKey||n.altKey||(0,tu.T$)(n)||t(eS,i)});function tS(){return{fontSize:eB(J),fontSizeSmall:eB(eu),iconSize:eB(et),scrollHeight:eB(z),horizontalPadding:eB(er),borderRadius:eB(en),gutterWidth:eB(es),minHeight:eB(Q),iconTextGap:eB(ei)}}function t_(e){return ej((0,ta.A)(function(){return(0,x.mg)(M,function(t){return t===e?0:-1})},[e]))}function tU(e){return ej((0,ta.A)(function(){return(0,x.mg)(L,function(t){var r,n=t.get(e);return n?{style:(r={},(0,u._)(r,tg.rowHeight,n.height+"px"),(0,u._)(r,tg.rowY,n.y+"px"),(0,u._)(r,tg.rowLeftIndent,"calc(".concat(n.depth," * ").concat(tm.gutterWidth,")")),r),depth:n.depth}:void 0},to())},[e]))}function tA(e){var t=e.index,r=e.path,n=(0,f.useRef)(null),i=eB(M);return(0,f.useEffect)(function(){var e=function(e){var t;null==(t=n.current)||t.setAttribute("tabIndex",e.toString())},o=function(n){if(!n)return void e(0===t?0:-1);e(n===r?0:-1)};return o(i.current),i.subscribe(o)},[i,r,t]),(0,f.useEffect)(function(){var e=function(e){null!==t&&clearTimeout(t),e===r&&document.activeElement!==n.current&&(t=setTimeout(function(){var e;null==(e=n.current)||e.focus()},50))},t=null;e(i.current);var o=i.subscribe(e);return function(){null!==t&&clearTimeout(t),o()}},[i,r]),[n,eG(M)]}function tE(e,t){if(t===e.path)return!1;var r=t+"/"+(0,w.WP)(e.path);return!(r===e.path||(0,_.hL)(e.path,t)||(0,_.hL)(r,e.path))}var tC=(0,y.eU)(null,function(e,t,r){return(0,v._)(function(){var n,i,o,l,a,u,c,s,f,p;return(0,m.YH)(this,function(h){switch(h.label){case 0:if(i=null==(n=e(ef).get(r.to))?void 0:n.children)return[3,2];return[4,e(V).fs.readDir(r.to)];case 1:if((o=h.sent()).error)return[2];i=o.children,h.label=2;case 2:var g,y,b,x,D,U;if(!i)throw Error("Expected children");if(g=r.nodes,y=r.to,b=i,l=g.reduce(function(e,t){var r=(0,w.WP)(t.path),n=(0,w._6)(t.path),i=null==b?void 0:b.find(function(e){return e.filename===r});return i&&(""===n?S.Dl:n)!==y&&e.push({type:i.type,path:y===S.Dl?i.filename:y+"/"+i.filename}),e},[]),x=r.nodes,D=r.to,!(a=(U=(0,w.Ag)(x)).every(function(e){return tE(e,D)})?U.map(function(e){var t=(0,w.WP)(e.path);return{from:e,to:D===S.Dl?t:D+"/"+t}}):null)||(c=(u=e(V)).readOnly,s=u.fs,c))return[2];if(!l.length)return[3,4];if(l.some(function(e){return a.some(function(t){var r=t.from;return(0,_.hL)(e.path,r.path)})}))return[2];if(!r.overwrite)return null==(f=e(V).onConflicts)||f({type:"move",nodes:r.nodes,to:r.to,conflicts:l}),[2];return[4,Promise.all(l.map(function(e){return(0,v._)(function(){var t;return(0,m.YH)(this,function(r){switch(r.label){case 0:return[4,e.type===d.pt.Directory?s.deleteDir(e.path):s.deleteFile(e.path)];case 1:return[2,(t=r.sent()).error?{error:t.error,node:e}:null]}})})()}))];case 3:if(h.sent().filter(Boolean).length)return[2];h.label=4;case 4:return t(eh,a),[4,Promise.all(a.map(function(e){var t=e.from,r=e.to;return(0,v._)(function(){var e;return(0,m.YH)(this,function(n){switch(n.label){case 0:return[4,t.type===d.pt.Directory?s.moveDir(t.path,r):s.moveFile(t.path,r)];case 1:return[2,(e=n.sent()).error?{error:e.error,from:t,to:r}:null]}})})()}))];case 5:if(p=h.sent(),t(eh,[]),p.filter(Boolean).length)return[2];return t(eC,new Map(a.map(function(e){return[e.to,e.from.type]}))),[2]}})})()}),tR=r(69071),tY=(0,y.eU)(null,function(e,t,r){return(0,v._)(function(){var n,i,o,l,a,u,s,f,p,h,g;return(0,m.YH)(this,function(y){switch(y.label){case 0:if(i=(n=e(V)).readOnly,o=n.fs,i)return[2];if(l=r.parentPath||S.Dl,u=null==(a=e(ef).get(l))?void 0:a.children,r.files.length>tt.Qq)return r.onError("Trying to upload too many files at once. Please try again with fewer files."),[2];if(r.files.reduce(function(e,t){return t.size+e},0)>tt.wr)return r.onError("Total file upload size exceeds maximum limit. Please try again with smaller files."),[2];if(u)return[3,2];return[4,o.readDir(l)];case 1:if((s=y.sent()).error)return[2];u=s.children,y.label=2;case 2:if(!u)throw Error("Expected children");if(f=(0,c._)(new Set(r.files.map(function(e){return e.dirPath?e.dirPath.split("/")[0]:e.name}))),(h=(p=u.filter(function(e){return f.some(function(t){return t===e.filename})})).length?p.map(function(e){return{path:l===S.Dl?e.filename:l+"/"+e.filename,type:e.type}}):null)&&!r.overwrite)return null==(g=e(V).onConflicts)||g({type:"upload",files:r.files,to:l,conflicts:p.map(function(e){return{path:l===S.Dl?e.filename:l+"/"+e.filename,type:e.type}})}),[2];if(!h)return[3,4];return[4,Promise.all(h.map(function(e){return(0,v._)(function(){var t;return(0,m.YH)(this,function(r){switch(r.label){case 0:return[4,e.type===d.pt.Directory?o.deleteDir(e.path):o.deleteFile(e.path)];case 1:return[2,(t=r.sent()).error?{error:t.error,node:e}:null]}})})()}))];case 3:if(y.sent().filter(Boolean).length)return[2];y.label=4;case 4:return(0,tt.Zn)({parentPath:r.parentPath,files:r.files,fs:o,onStart:function(e){t(ep,function(t){return(0,b.jM)(t,function(t){var r=!0,n=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done);r=!0){var a=o.value;t.push(a)}}catch(e){n=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw i}}})})},onUpload:function(e){t(ep,function(t){return(0,b.jM)(t,function(t){var r=t.findIndex(function(t){return t.targetPath===e.path});-1!==r&&t.splice(r,1)})})},onError:function(e){e.error===tt.lj.FileRead&&r.onError("Error reading file. Try uploading again."),t(ep,function(t){return(0,b.jM)(t,function(t){var r=t.findIndex(function(t){return t.targetPath===e.path});-1!==r&&t.splice(r,1)})})},onDone:function(e){var t=e.errors,r=e.parentPath;if(!t.length)return void tR.vF.info("Successfully uploaded files",{uploadSource:"filetree",parentPath:r})}}),[2]}})})()}),tP=r(39534),tF=r(70764),tk=r(32289),tI=r(25227),tT=r(24529),tz=(0,y.eU)(0),tM=(0,y.eU)(null),tL=(0,y.eU)(function(e){var t=e(tM);if(null===t)return null;var r=e(L),n=-1!==t?r.get(t):null;return n&&n.depth>0||(null==n?void 0:n.row.type)==="dir"?function(e,t){var r=e.get(t);if(!r)return null;var n=0,i=r.height,o="dir"===r.row.type?r.depth+1:r.depth;if("dir"===r.row.type)o=r.depth+1,n=r.y;else{o=r.depth;for(var l=t-1;l>=0;l--){var a=e.get(l);if(!a)break;if("dir"===a.row.type&&("file"===r.row.type||"uploadFile"===r.row.type?k(a.row.path,r.row.path):a.row.path===r.row.dir)){i+=a.height,n=a.y;break}a.depth>=r.depth&&(i+=a.height)}}for(var u=t+1;u<e.size;u++){var c=e.get(u);if(!c||c.depth<=("dir"===r.row.type?r.depth:r.depth-1))break;i+=c.height}return{y:n,height:i,depth:o}}(r,t):{y:e(tz),depth:1,height:e(T).height-8}}),tO="(".concat(tm.dropPreviewDepth," - 1) * ").concat(tm.gutterWidth),tN=(0,tF.x)({root:[th.wp.position.absolute,th.wp.top(0),th.wp.left(0),th.wp.borderRadius(8),{pointerEvents:"none",transform:"translate(calc(".concat(tO,"), ").concat(tm.dropPreviewY,")"),width:"calc(100% - ".concat(tO,")"),height:tm.dropPreviewHeight,opacity:tm.dropPreviewOpacity,outline:"1px dashed ".concat(tm.statusColor),outlineOffset:-1}]}),tZ=(0,f.memo)(function(){var e=eB(tL),t=eB(tq),r=eB(tX),n=(0,f.useRef)(null);(0,h.d)(n,e,function(e){var t,r,n,i;return i={},(0,u._)(i,tg.dropPreviewY,(null!=(t=null==e?void 0:e.y)?t:0)+"px"),(0,u._)(i,tg.dropPreviewHeight,(null!=(r=null==e?void 0:e.height)?r:0)+"px"),(0,u._)(i,tg.dropPreviewDepth,null!=(n=null==e?void 0:e.depth.toString())?n:"0"),i}),(0,h.d)(n,r,function(e){return(0,u._)({},tg.dropPreviewOpacity,e?"1":"0")}),(0,h.d)(n,t,function(e){return(0,u._)({},tg.statusColor,e?tP.LU.accentPrimaryDefault:tP.LU.accentNegativeDefault)});var i=(0,e6.j)();return(0,s.Y)(tI.S,{style:{transition:i?void 0:"transform 140ms, width 140ms, height 140ms, opacity 140ms ease-out 60ms"},innerRef:n,css:tN.root})}),tH=(0,y.eU)(null,function(e,t,r){if(null!==r){var n=!0,i=!1,o=void 0;try{for(var l,a=e(L)[Symbol.iterator]();!(n=(l=a.next()).done);n=!0){var u=(0,g._)(l.value,2),c=u[0],s=u[1];if(!(r.y<s.y)&&!(r.y>s.y+s.height))return t(tM,c),s}}catch(e){i=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}t(tM,-1)}}),tW=e1.ZU.Object({type:e1.ZU.Literal("nodes"),width:e1.ZU.Number(),height:e1.ZU.Number(),nodes:e1.ZU.Array(e1.ZU.Object({path:e1.ZU.String(),type:e1.ZU.Enum(d.pt)}))}),tj=(0,y.eU)(null,function(e,t,r){t(eC,function(e){return(0,b.jM)(e,function(e){e.set(r.path,r.type)})});var n=[r];if(e(eP))return n;var i=!0,o=!1,l=void 0;try{for(var a,u=e(eC)[Symbol.iterator]();!(i=(a=u.next()).done);i=!0){var c=(0,g._)(a.value,2),s=c[0],f=c[1];s!==r.path&&n.push({path:s,type:f})}}catch(e){o=!0,l=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw l}}return n});function tB(e){var t=eG(tM),r=eG(tj),n=ej(q),i=(0,f.useRef)(null),o=(0,g._)((0,eJ.i)({type:e.type,item:function(){var t,n,o=r(e),l=null!=(n=null==(t=i.current)?void 0:t.getBoundingClientRect())?n:{width:160,height:32};return{nodes:o,type:"nodes",width:l.width,height:l.height}},collect:function(t){var r=t.getItem();return{isDragging:!!((null==r?void 0:r.type)==="nodes"&&r.nodes.some(function(t){return t.path===e.path}))}},end:function(){t(null)}}),3),l=o[0],a=o[1],u=o[2],c=l.isDragging;return(0,e3.P)(u),{isDragging:c,dragRef:n?void 0:a,sizeRef:i}}var tG=(0,tF.x)({root:[th.wp.position.absolute,{left:0,top:0,transform:"translate(".concat(tm.dragPreviewX,", ").concat(tm.dragPreviewY,")"),pointerEvents:"none"}],item:[th.wp.backgroundColor.backgroundHighest,th.wp.flex.row,th.wp.align.center,th.wp.shadow(3),ty,{height:tm.rowHeight,borderRadius:tm.borderRadius}],icon:[tw,{marginRight:tm.iconTextGap}],text:[tb,th.wp.flex.growAndShrink(1),{color:tm.statusColor}],count:[tb,th.wp.backgroundColor.accentPrimaryDimmest,th.wp.color.accentPrimaryStrongest,th.wp.fontWeight.medium,th.wp.position.absolute,th.wp.left("calc(50% - 4px)"),th.wp.top("calc(100% - 4px)"),th.wp.borderRadius("full"),th.wp.px(4),th.wp.center,{fontSize:tm.fontSizeSmall}]}),tK=(0,f.memo)(function(e){var t=(0,f.useRef)(null),r=tS(),n=eB(tV);return(0,h.d)(t,n,function(e){var t;return t={},(0,u._)(t,tg.dragPreviewX,(e?e.x:0)+"px"),(0,u._)(t,tg.dragPreviewY,(e?e.y:0)+"px"),t}),(0,h.d)(t,r.horizontalPadding,function(e){return(0,u._)({},tg.horizontalPadding,e+"px")}),(0,h.d)(t,r.fontSize,function(e){return(0,u._)({},tg.fontSize,e+"px")}),(0,h.d)(t,r.fontSizeSmall,function(e){return(0,u._)({},tg.fontSizeSmall,e+"px")}),(0,h.d)(t,r.iconSize,function(e){return(0,u._)({},tg.iconSize,e+"px")}),(0,h.d)(t,r.iconTextGap,function(e){return(0,u._)({},tg.iconTextGap,e+"px")}),(0,h.d)(t,r.borderRadius,function(e){return(0,u._)({},tg.borderRadius,e+"px")}),(0,h.d)(t,r.gutterWidth,function(e){return(0,u._)({},tg.gutterWidth,e+"px")}),(0,s.Y)(tI.S,{innerRef:t,css:tG.root,children:(0,s.FD)(tI.S,{css:tG.item,style:{width:e.width,height:e.height},children:[(0,s.Y)(tI.S,{css:tG.icon,children:e.type===d.pt.File?(0,s.Y)(tk.A,{path:e.path}):(0,s.Y)(tT.A,{})}),(0,s.Y)(tI.S,{css:tG.text,children:(0,w.WP)(e.path)}),e.count>1?(0,s.Y)(tI.S,{css:tG.count,children:e.count}):null]})})}),tV=(0,y.eU)(null);(0,y.eU)(function(e){return null!==e(tV)});var tX=(0,y.eU)(!1),tq=(0,y.eU)(!1);function tJ(){var e=(0,e$.V)(function(e){return{item:e.getItem(),isDragging:e.isDragging(),initialOffset:e.getInitialSourceClientOffset(),currentOffset:e.getSourceClientOffset()}}),t=e.isDragging,r=e.item,n=e.currentOffset,i=eG(tV);if((0,f.useEffect)(function(){i(n?{x:n.x,y:n.y}:null)},[i,n]),!t||!e2.J(tW,r))return null;var o=r.nodes,l=r.width,a=r.height,u=(0,g._)(o,1)[0];return u?(0,e0.createPortal)((0,s.Y)(tK,{type:u.type,path:u.path,count:o.length,width:l,height:a}),document.body):null}var t$=r(96907),tQ=r.n(t$),t0=r(58631),t1=e1.ZU.Enum(d.pt),t2=e1.ZU.Object({filename:e1.ZU.String({minLength:1}),type:t1}),t5=e1.ZU.Object({scrollOffset:e1.ZU.Number({minimum:0}),dirInfo:e1.ZU.Record(e1.ZU.String(),e1.ZU.Object({expanded:e1.ZU.Boolean(),children:e1.ZU.Array(t2)}))});function t4(e){return"repl:workspace:filetree:"+e}var t3=e1.ZU.Array(e1.ZU.String()),t7="repl:workspace:filetree:savedKeys",t6=(0,x.mg)(V,function(e){return e.localCacheKey?t4(e.localCacheKey):null}),t9=(0,y.eU)(null,function(e){var t=e(V),r=t.localCacheKey,n=t.filter;if(r){var i=null!=(f=null==(s=e(ez))?void 0:s.scrollOffset)?f:0,o=e(ef),l=!1,a=!0,u=!1,c=void 0;try{for(var s,f,d,p=o[Symbol.iterator]();!(a=(d=p.next()).done);a=!0){var h=(0,g._)(d.value,2)[1].children;if(l=!!(null==h?void 0:h.length))break}}catch(e){u=!0,c=e}finally{try{a||null==p.return||p.return()}finally{if(u)throw c}}if(l){var v=function(e,t){var r={dirInfo:Object.create(null),scrollOffset:e.scrollOffset},n=!0,i=!1,o=void 0;try{for(var l,a=e.dirInfo[Symbol.iterator]();!(n=(l=a.next()).done);n=!0){var u=(0,g._)(l.value,2),c=u[0],s=u[1],f=s.expanded,d=s.children;if(d){var p=d.filter(t);p.length&&(r.dirInfo[c]={expanded:f,children:p})}}}catch(e){i=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}return r}({dirInfo:o,scrollOffset:i},n),m=t4(r),y=(_=t0.A.get(t7),e2.J(t3,_)?_:null);if(y){var w=y.filter(function(e){return e!==m});w.unshift(m);var b=w.splice(20),x=!0,D=!1,S=void 0;try{for(var _,U,A=b[Symbol.iterator]();!(x=(U=A.next()).done);x=!0){var E=U.value;t0.A.remove(E)}}catch(e){D=!0,S=e}finally{try{x||null==A.return||A.return()}finally{if(D)throw S}}t0.A.set(t7,w)}else t0.A.set(t7,[m]);return t0.A.set(t4(r),v)}}}),t8=r(17844),re=r(93629),rt=r(85609),rr=r(18558),rn=r(26221),ri=r(53847),ro={name:"sameWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;t.styles.popper.width="".concat(t.rects.reference.width,"px")},effect:function(e){var t=e.state;(0,ri._)(t.elements.reference,HTMLElement)&&(t.elements.popper.style.width="".concat(t.elements.reference.offsetWidth,"px"))}},rl=r(39938),ra=r(51292),ru=r(88589),rc=(0,x.mg)(V,function(e){return e.autocomplete}),rs=(0,tF.x)({icon:[tw,{marginRight:tm.iconTextGap}],item:[ty,th.wp.flex.row,th.wp.align.center,ra.b.listItem,{height:tm.rowHeight}],text:[tb,th.wp.flex.growAndShrink(1)]});function rf(e){var t=e.id,r=e.items,n=e.activeIndex,i=e.onSuggestion,o=e.fileType,l=e.innerRef;return(0,s.Y)(tI.S,{tag:"ul",id:t,"aria-label":"Suggestions",innerRef:l,children:r.map(function(e,t){var r=t===n;return(0,s.FD)(tI.S,{id:e.value,tag:"li",role:"option","aria-selected":r,style:{backgroundColor:r?tP.LU.interactiveBackground:void 0,color:r?tP.LU.foregroundDefault:tP.LU.foregroundDimmer},onClick:function(){return i(e.value)},css:rs.item,children:[(0,s.Y)(tI.S,{css:rs.icon,children:o===d.pt.Directory?(0,s.Y)(tT.A,{}):(0,s.Y)(tk.A,{path:e.value})}),(0,s.Y)(ru.e,{css:rs.text,text:e.value,highlight:e.highlight,dimmed:!r})]},e.value)})})}var rd=r(24499),rp=r(36946),rh=r(3937),rv=r(90843),rg=[tm.horizontalPadding,tm.iconSize,tm.iconTextGap].join(" + "),rm=[ra.b.filled,{height:"100%",width:"100%",paddingLeft:"calc(".concat(rg,")"),paddingRight:tm.horizontalPadding,fontSize:tm.fontSize}],ry=(0,tF.x)({root:[ty,{padding:tm.horizontalPadding}],icon:[tw,th.wp.color.accentNegativeDefault,{marginRight:tm.iconTextGap}],text:[{fontSize:tm.fontSize},th.wp.color.foregroundDimmer,th.wp.flex.growAndShrink(1)]});function rw(e){return(0,s.FD)(tI.S,{css:ry.root,row:!0,children:[(0,s.Y)(tI.S,{css:ry.icon,children:(0,s.Y)(rv.A,{})}),(0,s.Y)(tI.S,{css:ry.text,children:e.message})]})}var rb=(0,tF.x)({root:[th.wp.position.relative,th.wp.flex.growAndShrink(1),{height:"100%"}],icon:[tw,th.wp.position.absolute,th.wp.left(tm.horizontalPadding),th.wp.top("50%"),{transform:"translateY(-50%)"}],input:rm,inputLoading:[rm,rd.S.backgroundPulse()],menu:[th.wp.overflow("hidden"),{borderRadius:tm.borderRadius,border:"1px solid",borderColor:tP.LU.outlineDefault}],label:[th.wp.visuallyHidden]});function rx(e){var t,r,n,i,o,l,a,c,v,m,y,w=(0,f.useId)(),x=(0,f.useId)(),D=(t=(0,f.useRef)(null),r=tS(),(0,h.d)(t,r.fontSize,function(e){return(0,u._)({},tg.fontSize,e+"px")}),(0,h.d)(t,r.iconTextGap,function(e){return(0,u._)({},tg.iconTextGap,e+"px")}),(0,h.d)(t,r.borderRadius,function(e){return(0,u._)({},tg.borderRadius,e+"px")}),(0,h.d)(t,r.horizontalPadding,function(e){return(0,u._)({},tg.horizontalPadding,e+"px")}),(0,h.d)(t,r.iconSize,function(e){return(0,u._)({},tg.iconSize,e+"px")}),(0,h.d)(t,r.fontSize,function(e){return(0,u._)({},tg.rowHeight,$(e,"file")+"px")}),(0,h.d)(t,r.iconTextGap,function(e){return(0,u._)({},tg.iconTextGap,e+"px")}),i=(n=(0,g._)((0,f.useState)(null),2))[0],o=n[1],a=(l=(0,g._)((0,f.useState)(null),2))[0],c=l[1],m=(v=(0,rt.E)(i,a,{modifiers:[{name:"offset",options:{offset:[0,4]}},ro],placement:"bottom-start"})).styles,y=v.attributes,{menuRef:(0,p.S)([t,c],{breadcrumb:"client/workspace/components/Filetree/FileNodeInput.tsx:100"}),menuAnchorRef:o,styles:m.popper,attributes:y.popper}),S=function(e){var t=e.onSuggestion,r=e.siblings,n=e.value,i=ej(rc),o=(0,g._)((0,f.useState)({items:[],activeIndex:null}),2),l=o[0],a=o[1],u=(0,rl.A)(r),c=(0,rl.A)(n),s=(0,g._)((0,f.useTransition)(),2)[1],d=i?function(e){s(function(){var t=i(e);a(function(e){return(0,b.jM)(e,function(e){e.items=t.filter(function(e){return e.value!==c.current&&!u.current.some(function(t){return t.filename===e.value})})})})})}:null;function p(){a({items:[],activeIndex:null})}return{items:l.items.length?l.items:null,activeIndex:l.activeIndex,query:d,onKeyDown:function(e){if("Enter"===e.key){var r=null!==l.activeIndex?l.items[l.activeIndex]:null;if(!r)return;return e.preventDefault(),t(r.value),p(),!0}return"ArrowDown"===e.key?(e.preventDefault(),a(function(e){return(0,b.jM)(e,function(e){if(null===e.activeIndex||e.activeIndex>e.items.length-1){e.activeIndex=0;return}e.activeIndex++})}),!0):"ArrowUp"===e.key?(e.preventDefault(),a(function(e){return(0,b.jM)(e,function(e){if(null===e.activeIndex){e.activeIndex=e.items.length-1;return}if(0===e.activeIndex){e.activeIndex=null;return}e.activeIndex--})}),!0):void 0},clear:p}}({onSuggestion:e.onSuggestion,siblings:e.siblings,value:e.value}),_=eK(ez),U=(0,g._)((0,f.useState)(!0),2),A=U[0],E=U[1],C=(0,f.useRef)(null);(0,f.useEffect)(function(){if(C.current){var e,t=null==(e=_())?void 0:e.scrollElement;if(t)return(0,rn.l)(C.current,function(){return E(!0),function(){return E(!1)}},{root:t})}},[_]);var R=A&&!!(e.error||S.items),Y=S.items&&S.activeIndex?S.items[S.activeIndex]:void 0,P=!e.error&&S.items?S.items:null,F=(0,f.useRef)(null),k=S.clear,I=(0,rr.A)(function(e){var t;null!=(t=F.current)&&t.contains(e.target)||k()},[k]),T=(0,rr.A)(function(t){var r,n,i=e.inputRef.current;i&&((null==(r=F.current)?void 0:r.contains(t.target))||(null==(n=I.current)?void 0:n.contains(t.target))||e.onClickOutside({inputValue:i.value}))},[]),z=D.menuAnchorRef,M=(0,p.S)([F,z],{breadcrumb:"client/workspace/components/Filetree/FileNodeInput.tsx:250"});return(0,s.FD)(s.FK,{children:[(0,s.Y)("label",{css:rb.label,htmlFor:w,children:"file name"}),(0,s.FD)(tI.S,{css:rb.root,innerRef:M,children:[(0,s.Y)(tI.S,{css:rb.icon,children:e.fileType===d.pt.Directory?(0,s.Y)(tT.A,{}):(0,s.Y)(tk.A,{path:e.value})}),(0,s.Y)("input",{spellCheck:!1,"aria-controls":S.query?x:void 0,"aria-expanded":S.items?"true":"false","aria-activedescendant":null==Y?void 0:Y.value,role:S.query?"combobox":void 0,id:w,ref:(0,p.S)([e.inputRef,C,T],{breadcrumb:"client/workspace/components/Filetree/FileNodeInput.tsx:274"}),css:e.loading?rb.inputLoading:rb.input,value:e.value,onChange:e.loading?void 0:function(t){var r;e.onChange(t),null==(r=S.query)||r.call(S,{input:t.currentTarget.value,fileType:e.fileType,type:e.type,siblings:e.siblings})},onKeyDown:function(t){S.onKeyDown(t)||e.onKeyDown(t)}})]}),(0,s.Y)(rp.Z,{children:(0,s.FD)(rh.ui,(0,re._)((0,t8._)({css:rb.menu,elevated:!0,innerRef:D.menuRef,style:(0,re._)((0,t8._)({},D.styles),{display:R?"block":"none"})},D.attributes),{children:[e.error?(0,s.Y)(rw,{message:e.error}):null,P?(0,s.Y)(rf,{id:x,innerRef:I,items:P,activeIndex:S.activeIndex,onSuggestion:function(t){e.onSuggestion(t),k()},fileType:e.fileType}):null]}))})]})}var rD=(0,tF.x)({createFilePicker:[{fontSize:tm.fontSize,paddingRight:tm.horizontalPadding,paddingLeft:tm.horizontalPadding}],button:[th.wp.reset.button,th.wp.p(2),ra.b.filled,th.wp.color.foregroundDimmer,{fontSize:"inherit"}],text:[tb,th.wp.color.foregroundDimmest]});function rS(e){var t,r,n,i,o,l,a,u,c,p,h,y,w,b,D,_,U,A,E,C,R=(t=e.dir,n=eG(eU),i=eG(eA),o=eG(eE),a=(l=(0,g._)((0,f.useState)(""),2))[0],u=l[1],c=eK(V),h=(p=(0,g._)((0,f.useState)(!1),2))[0],y=p[1],b=(w=(0,g._)((0,f.useState)(null),2))[0],D=w[1],_=(0,ta.A)(function(){return(0,x.mg)(ef,function(e){return e.get(t)})},[t]),U=(0,ta.A)(function(){return(0,x.mg)(_,function(e){var t;return null!=(t=null==e?void 0:e.create)?t:null})},[_]),A=ej((0,ta.A)(function(){return(0,x.mg)(_,function(e){var t;return null!=(t=null==e?void 0:e.children)?t:null})},[_])),E=ej(U),!(C=b)&&a.includes("/")?C=td({fileName:a,parentPath:t}):C||(C=(0,tc.U)({fileName:a,siblingNames:null!=(r=null==A?void 0:A.map(function(e){return e.filename}))?r:[],parentPath:t})),{value:a,setValue:u,fileType:E,create:function(e){return(0,v._)(function(){var r,n,i,l,a,s,f,p,h,v;return(0,m.YH)(this,function(g){switch(g.label){case 0:if(!E||(l=(i=c()).readOnly,a=i.fs,l))return[2];if(s=null,0!==e.length)return[3,1];return s="File names cannot be empty",[3,4];case 1:if(!e.includes("/"))return[3,3];return[4,tf({fileName:e,parentPath:t,fs:a})];case 2:return s=g.sent(),[3,4];case 3:s=(0,tc.U)({fileName:e,siblingNames:null!=(f=null==A?void 0:A.map(function(e){return e.filename}))?f:[],parentPath:t}),g.label=4;case 4:if(s)return D(s),[2];if((h=(p=t===S.Dl?null:t+"/")?p+e:e).includes("//")&&(h=h.split("/").filter(function(e){return e.length>0}).join("/")),y(!0),E!==d.pt.Directory)return[3,6];return[4,a.createDir(h)];case 5:return v=g.sent(),[3,8];case 6:return[4,a.writeFile(h,new tl.A(""))];case 7:v=g.sent(),g.label=8;case 8:if(v.error)return D("Something went wrong"),[2];return y(!1),u(""),o({parentPath:t,path:h,fileType:E}),null==(r=(n=c()).onCreate)||r.call(n,{path:h,type:E}),[2]}})})()},creating:h,error:C,clearError:function(){return D(null)},cancel:(0,ta.A)(function(){return function(){return i(t)}},[t,i]),start:(0,ta.A)(function(){return function(e){return n({parentPath:t,fileType:e})}},[t,n]),siblings:A}),Y=(0,f.useRef)(null);return((0,f.useEffect)(function(){var e;R.fileType&&(null==(e=Y.current)||e.focus())},[R.fileType]),R.fileType)?(0,s.Y)(rx,{siblings:R.siblings||[],type:"create",inputRef:Y,loading:R.creating,error:R.error,value:R.value,fileType:R.fileType,onClickOutside:function(e){var t=e.inputValue;if(""===t)return void R.cancel();R.create(t)},onChange:function(e){R.error&&R.clearError(),R.setValue(e.currentTarget.value)},onKeyDown:function(e){if("Escape"===e.key)return void R.cancel();"Enter"===e.key&&R.create(e.currentTarget.value)},onSuggestion:function(e){R.setValue(e),R.create(e)}}):(0,s.Y)(r_,{create:R.start})}function r_(e){return(0,s.FD)(tI.S,{css:rD.createFilePicker,align:"center",row:!0,gap:4,children:[(0,s.Y)(tI.S,{css:rD.text,children:"Add a"}),(0,s.Y)(tI.S,{tag:"button",css:rD.button,onClick:function(){return e.create(d.pt.File)},children:"file"}),(0,s.Y)(tI.S,{css:rD.text,children:"or "}),(0,s.Y)(tI.S,{tag:"button",css:rD.button,onClick:function(){return e.create(d.pt.Directory)},children:"folder"})]})}var rU=(0,tF.x)({root:[{marginLeft:"auto",paddingLeft:tm.horizontalPadding}],svg:[{transform:"rotate(-90deg)",transformOrigin:"center center","& .inner-circle":{strokeDashoffset:tm.strokeDashoffset}}]});function rA(e){var t=ej(J)/2,r=t/2,n=2*r*Math.PI,i=(0,f.useRef)(null);return(0,h.d)(i,e.progress,function(e){return(0,u._)({},tg.strokeDashoffset,(n-e*n).toString())}),(0,s.Y)(tI.S,{innerRef:i,css:rU.root,children:(0,s.FD)("svg",{css:rU.svg,height:2*t,width:2*t,children:[(0,s.Y)("circle",{fill:tP.LU.backgroundHigher,r:t,cx:t,cy:t}),(0,s.Y)("circle",{className:"inner-circle",stroke:tP.LU.foregroundDimmest,fill:"transparent",strokeWidth:t,strokeDasharray:n+" "+n,r:r,cx:t,cy:t})]})})}var rE=function(e){return e.reduce(function(e,t){return e+t.current},0)/e.length};function rC(e){var t,r,n,i,o=ej(J)/2,l=o/2,a=2*l*Math.PI,c=(t=e.uploadProgress,n=(r=(0,g._)((0,f.useState)(rE(t)),2))[0],i=r[1],(0,f.useEffect)(function(){var e=[],r=!0,n=!1,o=void 0;try{for(var l,a=t[Symbol.iterator]();!(r=(l=a.next()).done);r=!0){var u=l.value;e.push(u.subscribe(function(){i(rE(t))}))}}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return function(){e.map(function(e){return e()})}},[t]),n),d=(0,f.useRef)(null);return(0,s.Y)(tI.S,{innerRef:d,css:rU.root,children:(0,s.FD)("svg",{css:rU.svg,height:2*o,width:2*o,children:[(0,s.Y)("circle",{fill:tP.LU.backgroundHigher,r:o,cx:o,cy:o}),(0,s.Y)("circle",{className:"inner-circle",style:(0,u._)({},tg.strokeDashoffset,(a-c*a).toString()),stroke:tP.LU.foregroundDimmest,fill:"transparent",strokeWidth:o,strokeDasharray:a+" "+a,r:l,cx:o,cy:o})]})})}function rR(e){var t,r,n,i,o,l,a,u,c,p,h,y,b,D,_,U,A,E,C,R,Y=(0,g._)((t={path:e.path,type:e.fileType},n=eK(V),o=(i=(0,g._)((0,f.useState)(null),2))[0],l=i[1],a=(0,w._6)(t.path)||S.Dl,u=(0,w.WP)(t.path),c=eG(H),p=eG(M),y=(h=(0,g._)((0,f.useState)(u),2))[0],b=h[1],_=(D=(0,g._)((0,f.useState)(!1),2))[0],U=D[1],A=(0,ta.A)(function(){return(0,x.mg)(ef,function(e){var t;return null==(t=e.get(a))?void 0:t.children})},[a]),E=y!==u,C=ej(A),R=null,E&&y.includes("/")?R=td({fileName:y,parentPath:a}):E&&(R=(0,tc.U)({fileName:y,siblingNames:null!=(r=null==C?void 0:C.map(function(e){return e.filename}))?r:[],parentPath:a})),[{canRename:!!y&&E&&!R,value:y,renaming:_,error:o||R,siblings:C},{setValue:b,rename:function(e){return(0,v._)(function(){var r,i,o,s,f,h,v,g,y,b,x;return(0,m.YH)(this,function(m){switch(m.label){case 0:if(R||!e||e===u||(i=(r=n()).readOnly,o=r.fs,s=r.onFileRenameStart,f=r.onFileRenameEnd,i))return[2];if(h=null,!e.includes("/"))return[3,2];return[4,tf({fileName:e,parentPath:a,fs:o})];case 1:return h=m.sent(),[3,3];case 2:h=(0,tc.U)({fileName:e,siblingNames:null!=(v=null==C?void 0:C.map(function(e){return e.filename}))?v:[],parentPath:a}),m.label=3;case 3:if(h)return l(h),[2];if(y=(g=a===S.Dl?null:a+"/")?g+e:e,b=(0,w._6)(y)||S.Dl,U(!0),null==s||s({from:t.path,to:y}),b===S.Dl)return[3,6];return[4,o.stat(b)];case 4:if(m.sent().exists)return[3,6];return[4,o.createDir(b)];case 5:m.sent(),m.label=6;case 6:if(t.type!==d.pt.Directory)return[3,8];return[4,o.moveDir(t.path,y)];case 7:return x=m.sent(),[3,10];case 8:return[4,o.moveFile(t.path,y)];case 9:x=m.sent(),m.label=10;case 10:if(x.error)return l("Something went wrong"),U(!1),null==f||f(),[2];return c(null),null==f||f(),p(y),[2]}})})()},cancel:function(){var e=n().onFileRenameEnd;c(null),null==e||e(),p(t.path)}}]),2),P=Y[0],F=Y[1],k=F.setValue,I=F.rename,T=F.cancel,z=(0,f.useRef)(null),L=(0,f.useRef)(P.value);return(0,f.useEffect)(function(){if(z.current){var e=L.current;if(e){var t=e.lastIndexOf(".");t<=1&&(t=e.length);var r=+!!e.startsWith(".");z.current.focus(),z.current.setSelectionRange(r,t)}}},[]),(0,s.Y)(rx,{siblings:P.siblings?P.siblings.filter(function(t){return t.filename!==(0,w.WP)(e.path)}):[],type:"rename",inputRef:z,loading:P.renaming,error:P.error,value:P.value,fileType:e.fileType,onClickOutside:function(e){var t=e.inputValue;P.canRename?I(t):P.error||T()},onChange:function(e){k(e.currentTarget.value)},onKeyDown:function(e){if("Escape"===e.key)return void T();"Enter"===e.key&&(P.canRename?I(e.currentTarget.value):P.error||T())},onSuggestion:function(e){k(e),I(e)}})}var rY=r(58226),rP=(n={},(0,u._)(n,rY.PX.ADDED,"A"),(0,u._)(n,rY.PX.UNTRACKED,"A"),(0,u._)(n,rY.PX.MODIFIED,"M"),(0,u._)(n,rY.PX.DELETED,"D"),(0,u._)(n,rY.PX.RENAMED,"R"),(0,u._)(n,rY.PX.COPIED,"C"),n),rF=(i={},(0,u._)(i,rY.PX.ADDED,tP.LU.greenDimmest),(0,u._)(i,rY.PX.UNTRACKED,tP.LU.greenDimmest),(0,u._)(i,rY.PX.MODIFIED,tP.LU.yellowDimmest),(0,u._)(i,rY.PX.DELETED,tP.LU.redDimmest),(0,u._)(i,rY.PX.RENAMED,tP.LU.tealDimmest),(0,u._)(i,rY.PX.COPIED,tP.LU.limeDimmest),i),rk=(o={},(0,u._)(o,rY.PX.ADDED,tP.LU.greenStrongest),(0,u._)(o,rY.PX.UNTRACKED,tP.LU.greenStrongest),(0,u._)(o,rY.PX.MODIFIED,tP.LU.yellowStrongest),(0,u._)(o,rY.PX.DELETED,tP.LU.redStrongest),(0,u._)(o,rY.PX.RENAMED,tP.LU.tealStrongest),(0,u._)(o,rY.PX.COPIED,tP.LU.limeStrongest),o);function rI(e){return e===rY.PX.ADDED||e===rY.PX.UNTRACKED||e===rY.PX.MODIFIED||e===rY.PX.DELETED||e===rY.PX.RENAMED||e===rY.PX.COPIED}var rT={color:tm.statusColor,fontSize:tm.fontSizeSmall,minWidth:tm.dirStatusIconSize,height:tm.dirStatusIconSize},rz=(0,tF.x)({fileIcon:[th.wp.fontWeight.bold,th.wp.px(2),th.wp.center,rT],directoryCountIcon:[th.wp.fontWeight.medium,th.wp.borderRadius(4),th.wp.px(2),th.wp.center,rT,{backgroundColor:tm.statusBackgroundColor}],directoryDraftBufferIndicator:[th.wp.width(8),th.wp.height(8),th.wp.ml(8),th.wp.border({color:tP.LU.foregroundDimmer,width:1}),{borderRadius:"50%"}],fileDraftBufferIndicator:[th.wp.width(8),th.wp.height(8),th.wp.backgroundColor.foregroundDimmer,{borderRadius:"50%"}]});function rM(e){return(0,s.Y)(tI.S,{css:rz.fileIcon,children:(0,s.Y)(tI.S,{children:e.text})})}function rL(e){return(0,s.Y)(tI.S,{css:rz.directoryCountIcon,children:(0,s.Y)(tI.S,{children:e.count})})}var rO=r(74955),rN=r(91953),rZ=r(70117),rH=r(33683),rW=r(71936),rj=[th.wp.position.absolute,th.wp.top(0),th.wp.left(0),{width:"calc(100% - ".concat(tm.rowLeftIndent,")"),height:tm.rowHeight,transform:"translateY(".concat(tm.rowY,")"),marginLeft:tm.rowLeftIndent}],rB=(0,tF.x)({divider:(0,c._)(rj).concat([ty,th.wp.flex.growAndShrink(1),th.wp.justify.center]),dividerInner:[{borderTop:"1px dashed",borderColor:tP.LU.outlineDimmest,height:"70%",justifyContent:"end"}],dividerText:[th.wp.truncate,th.wp.color.foregroundDimmer,{fontSize:tm.fontSizeSmall}],error:(0,c._)(rj).concat([th.wp.rowWithGap(4),th.wp.align.center,ty]),emptyDir:(0,c._)(rj).concat([ty,th.wp.color.foregroundDimmest,th.wp.justify.center,{paddingLeft:tm.iconSize,paddingRight:tm.horizontalPadding}]),row:(0,c._)(rj).concat([th.wp.flex.growAndShrink(1),th.wp.flex.row,th.wp.align.center,ra.b.nofill,(a={backgroundColor:tm.nodeBackgroundColor,borderRadius:tm.borderRadius,cursor:"pointer","&:focus":{boxShadow:"0 0 0 2px "+tP.LU.accentPrimaryDefault,zIndex:1}},(0,u._)(a,tg.hasUnsavedChangesDisplay,"flex"),(0,u._)(a,"@media (hover: hover)",(0,u._)({},tg.contextMenuButtonDisplay,"none")),(0,u._)(a,"&:hover, &:active, &:focus",(l={},(0,u._)(l,tg.contextMenuButtonDisplay,"flex"),(0,u._)(l,tg.hasUnsavedChangesDisplay,"none"),l)),(0,u._)(a,"transitionDuration","0ms"),a)]),rowContent:[th.wp.flex.row,th.wp.align.center,th.wp.flex.growAndShrink(1),ty],uploadRow:(0,c._)(rj).concat([th.wp.flex.growAndShrink(1),th.wp.align.center,th.wp.flex.row,th.wp.align.center,ty,th.wp.border({color:"transparent"}),(0,u._)({backgroundColor:tm.nodeBackgroundColor,borderRadius:tm.borderRadius},tg.statusColor,tP.LU.foregroundDimmer)]),createRow:(0,c._)(rj).concat([th.wp.justify.center]),icon:[tw,{marginRight:tm.iconTextGap}],text:[tb,th.wp.flex.growAndShrink(1),{color:tm.statusColor}],emptyDirText:[tb,th.wp.display.flex,th.wp.justify.center,th.wp.flex.growAndShrink(1),{color:tm.statusColor}],contextMenuButton:[th.wp.reset.button,th.wp.height("100%"),th.wp.center,th.wp.cursor.pointer,ra.b.filled,tw,{display:tm.contextMenuButtonDisplay,borderRadius:"0 ".concat(tm.borderRadius," ").concat(tm.borderRadius," 0"),transitionDuration:"0ms",backgroundColor:"transparent"}],draftBufferContainer:[{display:tm.hasUnsavedChangesDisplay}]});function rG(e){var t,r=(t=e.path,ej((0,ta.A)(function(){return(0,y.eU)(function(e){var r;return null!=(r=e(I).get(t))?r:null})},[t]))),n=ej(ea);return(null==r?void 0:r.length)?(0,s.Y)(rO.A,{size:n,activeUsers:r}):null}function rK(e){var t,r=(t=e.path,ej((0,ta.A)(function(){return(0,y.eU)(function(e){var r=[],n=!0,i=!1,o=void 0;try{for(var l,a=e(I)[Symbol.iterator]();!(n=(l=a.next()).done);n=!0){var u=(0,g._)(l.value,2),s=u[0],f=u[1];if(!(0,_.hL)(t,s))return;r.push.apply(r,(0,c._)(f))}}catch(e){i=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}return r.length?r:null})},[t])));return(null==r?void 0:r.length)?(0,s.Y)(rO.A,{activeUsers:r}):null}function rV(e){return(0,s.Y)(tI.S,{title:"menu",tag:"button",css:rB.contextMenuButton,onClick:e.onClick,children:(0,s.Y)(rW.A,{})})}function rX(e,t){var r=eB((0,ta.A)(function(){return(0,x.mg)(eC,function(e){return e.has(t)})},[t]));(0,h.d)(e,r,function(e){return(0,u._)({},tg.nodeBackgroundColor,e?tP.LU.backgroundHigher:"transparent")}),(0,f.useEffect)(function(){var t=function(t){e.current&&e.current.setAttribute("aria-selected",t?"true":"false")};return t(r.current),r.subscribe(t)},[e,r,t])}var rq=(0,f.memo)(function(e){var t,r,n,i,o,l,a,c,h,v,m,y=(0,f.useRef)(null),b=tU(e.index),D=ej((t=e.path,(0,ta.A)(function(){return(0,x.mg)(ef,function(e){var r;return!!(null==(r=e.get(t))?void 0:r.expanded)})},[t]))),S=ej((r=e.path,(0,ta.A)(function(){return(0,x.mg)(ef,function(e){var t;return!!(null==(t=e.get(r))?void 0:t.loading)})},[r]))),U=(i=(n=(0,g._)((0,f.useState)(S),2))[0],o=n[1],(0,f.useEffect)(function(){if(!S)return void o(!1);var e=setTimeout(function(){return o(!0)},500);return function(){clearTimeout(e)}},[S]),i),A=eG(W),E=ej(O),R=t_(e.path),Y=(l=e.path,a=eG(tD),(0,ta.A)(function(){return function(e){a({event:e,path:l})}},[a,l])),P=(0,g._)(tA({path:e.path,index:e.index}),2),F=P[0],k=P[1],I=e.path===E&&S,T=I?C:(0,w.WP)(e.path),z=tB({path:e.path,type:d.pt.Directory}),M=z.dragRef,L=z.sizeRef,Z=z.isDragging;rX(y,e.path);var H=(c=e.path,ej((0,ta.A)(function(){return(0,x.mg)(N,function(e){return e?function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var l,a=e[Symbol.iterator]();!(n=(l=a.next()).done);n=!0){var u=(0,g._)(l.value,2),c=u[0],s=u[1],f=s.index,d=s.worktree;(0,_.hL)(t,c)&&r.push({path:c,index:f,worktree:d})}}catch(e){i=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}if(0===r.length)return null;var p=r.every(function(e){return e.index===rY.PX.ADDED||e.worktree===rY.PX.UNTRACKED})?rY.PX.ADDED:rY.PX.MODIFIED;if(!rI(p))return null;var h=r.length;return{color:rk[p],backgroundColor:rF[p],count:h}}(e,c):null},to())},[c]))),j=ej(X);return(0,s.FD)(tI.S,{style:(0,re._)((0,t8._)({},null==b?void 0:b.style),(m={},(0,u._)(m,tg.statusColor,null!=(h=null==H?void 0:H.color)?h:tP.LU.foregroundDimmer),(0,u._)(m,tg.statusBackgroundColor,null==H?void 0:H.backgroundColor),(0,u._)(m,"opacity",Z?.1:void 0),m)),tabIndex:R,role:"treeitem","aria-label":T,"aria-expanded":D,"aria-level":(null!=(v=null==b?void 0:b.depth)?v:0)+1,css:rB.row,onFocus:function(){return k(e.path)},innerRef:(0,p.S)([y,F,L,e.pending?void 0:M],{breadcrumb:"client/workspace/components/Filetree/Row.tsx:345"}),onContextMenu:j?function(t){j(t,{path:e.path,type:d.pt.Directory})}:void 0,onKeyDown:e.pending?void 0:function(t){"Enter"===t.key&&A(e.path)},onClick:e.pending?void 0:function(e){e.currentTarget===e.target&&Y(e)},children:[(0,s.FD)(tI.S,{title:e.path,css:rB.rowContent,onClick:e.pending?void 0:Y,children:[(0,s.Y)(tI.S,{css:rB.icon,children:I||U&&!D?(0,s.Y)(rH.A,{}):(0,s.Y)(s.FK,{children:D?(0,s.Y)(rZ.A,{color:tP.LU.foregroundDimmer}):(0,s.Y)(tT.A,{color:tP.LU.foregroundDimmer})})}),(0,s.Y)(tI.S,{css:rB.text,children:T}),e.uploadProgress?(0,s.Y)(rC,{uploadProgress:e.uploadProgress}):null,H?(0,s.Y)(rL,{count:H.count}):null,D?null:(0,s.Y)(rK,{path:e.path}),null]}),j?(0,s.Y)(rV,{onClick:function(t){j(t,{path:e.path,type:d.pt.Directory})}}):null]})}),rJ=(0,f.memo)(function(e){var t,r,n,i,o,l,a,c,h=(0,f.useRef)(null),v=tU(e.index),m=(t=e.path,r=eK(V),n=eG(eF),i=eG(M),(0,ta.A)(function(){return{onClick:function(e){var o=r(),l=o.onFileSelect,a=o.multiselectModifierKey,u=a?tx(e,a):void 0;n({node:{path:t,type:d.pt.File},mode:u}),i(t),u||null==l||l({path:t,event:e,type:"click"})},onDoubleClick:function(e){var n=r().onFileDoubleClick;null==n||n(e,t)}}},[t,r,i,n])),y=m.onClick,b=m.onDoubleClick,D=t_(e.path),S=eG(W),_=(0,g._)(tA({path:e.path,index:e.index}),2),U=_[0],A=_[1],E=(0,w.WP)(e.path),C=tB({path:e.path,type:d.pt.File}),R=C.dragRef,Y=C.sizeRef,P=C.isDragging;rX(h,e.path);var F=(o=e.path,ej((0,ta.A)(function(){return(0,x.mg)(N,function(e){return e?function(e,t){var r=null==e?void 0:e.get(t);if(!r)return null;var n=null;return r.worktree!==rY.PX.UNMODIFIED?n=r.worktree:r.index!==rY.PX.UNMODIFIED&&(n=r.index),n&&rI(n)?{color:rk[n],text:rP[n]}:null}(e,o):null},to())},[o]))),k=ej(X);return(0,s.FD)(tI.S,{style:(0,re._)((0,t8._)({},null==v?void 0:v.style),(c={},(0,u._)(c,tg.statusColor,null!=(l=null==F?void 0:F.color)?l:tP.LU.foregroundDimmer),(0,u._)(c,"opacity",P?.1:void 0),c)),tabIndex:D,dataCy:"filetree-file",css:rB.row,onFocus:function(){return A(e.path)},innerRef:(0,p.S)([h,U,Y,e.pending?void 0:R],{breadcrumb:"client/workspace/components/Filetree/Row.tsx:464"}),role:"treeitem","aria-label":E,"aria-level":(null!=(a=null==v?void 0:v.depth)?a:0)+1,onDoubleClick:e.pending?void 0:b,onContextMenu:k?function(t){k(t,{path:e.path,type:d.pt.File})}:void 0,onKeyDown:e.pending?void 0:function(t){"Enter"===t.key&&S(e.path)},onClick:e.pending?void 0:function(e){e.currentTarget===e.target&&y(e)},children:[(0,s.FD)(tI.S,{title:e.path,css:rB.rowContent,onClick:e.pending?void 0:y,children:[(0,s.Y)(tI.S,{css:rB.icon,children:(0,s.Y)(tk.A,{path:e.path})}),(0,s.Y)(tI.S,{css:rB.text,children:E}),F?(0,s.Y)(rM,{text:F.text}):null,(0,s.Y)(rG,{path:e.path}),null]}),k?(0,s.Y)(rV,{onClick:function(t){k(t,{path:e.path,type:d.pt.File})}}):null]})}),r$=(0,f.memo)(function(e){var t=tU(e.index);return(0,s.Y)(tI.S,{css:rB.divider,style:null==t?void 0:t.style,role:"treeitem",children:(0,s.Y)(tI.S,{css:rB.dividerInner,children:(0,s.Y)(tI.S,{css:rB.dividerText,children:e.label})})})}),rQ=(0,f.memo)(function(e){var t=tU(e.index);return(0,s.FD)(tI.S,{css:rB.error,style:null==t?void 0:t.style,role:"treeitem",children:[(0,s.Y)(rv.A,{}),(0,s.Y)(rN.EY,{multiline:!1,children:e.message})]})}),r0=(0,f.memo)(function(e){var t=tU(e.index);return(0,s.Y)(tI.S,{css:rB.emptyDir,style:null==t?void 0:t.style,role:"treeitem",children:(0,s.Y)(tI.S,{css:rB.emptyDirText,children:E})})}),r1=(0,f.memo)(function(e){var t=tU(e.index);return(0,s.Y)(tI.S,{css:rB.createRow,style:null==t?void 0:t.style,role:"treeitem",children:(0,s.Y)(rS,{dir:e.dir})})}),r2=(0,f.memo)(function(e){var t=tU(e.index),r=(0,w.WP)(e.path);return(0,s.Y)(tI.S,{style:null==t?void 0:t.style,css:rB.createRow,role:"treeitem","aria-label":r,children:(0,s.Y)(rR,{path:e.path,fileType:e.fileType})})}),r5=(0,f.memo)(function(e){var t=tU(e.index),r=(0,w.WP)(e.path);return(0,s.FD)(tI.S,{style:null==t?void 0:t.style,css:rB.uploadRow,role:"treeitem","aria-label":r,children:[(0,s.Y)(tI.S,{css:rB.icon,children:(0,s.Y)(tk.A,{path:e.path})}),(0,s.Y)(tI.S,{css:rB.text,children:r}),(0,s.Y)(rA,{progress:e.progress})]})}),r4=(0,f.memo)(function(e){var t,r=ej((t=e.index,(0,ta.A)(function(){return(0,y.eU)(function(e){var r,n;return null!=(n=null==(r=e(L).get(t))?void 0:r.row)?n:null})},[t])));return r?"error"===r.type?(0,s.Y)(rQ,{index:e.index,message:r.message}):"divider"===r.type?(0,s.Y)(r$,{index:e.index,label:r.label}):"emptyDir"===r.type?(0,s.Y)(r0,{index:e.index}):"create"===r.type?(0,s.Y)(r1,{index:e.index,dir:r.dir}):"uploadFile"===r.type?(0,s.Y)(r5,{index:e.index,path:r.path,progress:r.progress}):r.rename?(0,s.Y)(r2,{index:e.index,path:r.path,fileType:"file"===r.type?d.pt.File:d.pt.Directory}):"file"===r.type?(0,s.Y)(rJ,{index:e.index,path:r.path,pending:!!r.pending}):(0,s.Y)(rq,{index:e.index,path:r.path,pending:!!r.pending,uploadProgress:r.uploadProgress}):null}),r3=[tm.horizontalPadding,tm.rowLeftIndent,tm.iconSize,tm.iconTextGap].join(" + "),r7=(0,tF.x)({root:[th.wp.overflow("hidden"),th.wp.height(0),{pointerEvents:"none"}],file:[{paddingLeft:"calc(".concat(r3,")"),paddingRight:tm.horizontalPadding}]}),r6=(0,f.memo)(function(){var e=ej(e_);return e?(0,s.Y)(tI.S,{css:r7.root,children:e.map(function(e){var t=e.type,r=e.text,n=e.depth,i=(0,u._)({},tg.rowLeftIndent,"calc(".concat(n," * ").concat(tm.gutterWidth,")")),o=t+n;return"divider"===t?(0,s.Y)(tI.S,{style:i,css:rB.dividerInner,children:(0,s.Y)(rN.EY,{css:rB.dividerInner,multiline:!1,children:r.toUpperCase()})},o):(0,s.Y)(tI.S,{css:r7.file,style:i,children:"create"===t?(0,s.Y)(r_,{create:function(){}}):(0,s.Y)(tI.S,{css:rB.text,children:r.toUpperCase()})},o)})}):null}),r9=r(1196),r8=(0,tF.x)({content:[th.wp.position.relative,{overflowY:"auto",height:"100%",minHeight:tm.minHeight}],scroll:[{position:"relative",height:tm.scrollHeight}],gutter:[th.wp.position.absolute,th.wp.top(0),th.wp.left(0),th.wp.reset.button,th.wp.align.end,th.wp.cursor.pointer,{width:tm.gutterWidth,"& > div":[th.wp.height("100%"),th.wp.highRes({borderLeftWidth:.5}),{borderLeft:"1px solid",marginRight:"25%",opacity:0,borderLeftColor:"transparent",transitionProperty:"border-color",transitionDuration:"0",transitionDelay:"0"}],"&:hover > div":{borderColor:tP.LU.outlineDimmest,transitionDuration:"200ms",transitionDelay:"100ms",opacity:1}}]}),ne=(0,f.memo)(function(e){var t,r,n,i,o,l,a,v,m,y,b,x,D,_,U,A,E,C,R,Y,P,F,k,I=ej(L),z=tS();(0,h.d)(e.scrollRef,z.fontSize,function(e){var t;return t={},(0,u._)(t,tg.fontSize,e+"px"),(0,u._)(t,tg.dirStatusIconSize,e+"px"),t}),(0,h.d)(e.scrollRef,z.fontSizeSmall,function(e){return(0,u._)({},tg.fontSizeSmall,e+"px")}),(0,h.d)(e.scrollRef,z.iconSize,function(e){return(0,u._)({},tg.iconSize,e+"px")}),(0,h.d)(e.scrollRef,z.iconTextGap,function(e){return(0,u._)({},tg.iconTextGap,e+"px")}),(0,h.d)(e.scrollRef,z.horizontalPadding,function(e){return(0,u._)({},tg.horizontalPadding,e+"px")}),(0,h.d)(e.scrollRef,z.borderRadius,function(e){return(0,u._)({},tg.borderRadius,e+"px")}),(0,h.d)(e.scrollRef,z.scrollHeight,function(e){return(0,u._)({},tg.scrollHeight,e+"px")}),(0,h.d)(e.scrollRef,z.gutterWidth,function(e){return(0,u._)({},tg.gutterWidth,e+"px")}),(0,h.d)(e.scrollRef,z.minHeight,function(e){return(0,u._)({},tg.minHeight,e+"px")});var M=eG(em),N=(t=eG(tH),r=eG(tM),n=(0,f.useRef)(null),i=(0,f.useRef)(null),o=(0,f.useRef)(null),l=(0,e7.A)().showError,a=eK(tz),v=eG(tY),m=eG(tC),y=eG(tq),b=(0,f.useRef)(null),x=eK(ef),D=eK(O),_=eG(T),U=eG(eD),A=ej(q),C=(E=(0,g._)((0,eq.H)(function(){return{accept:[d.pt.File,d.pt.Directory,eQ.FILE],canDrop:function(){return!0},hover:function(e,r){var l=o.current;if(l){i.current&&function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{scrollZoneSize:{w:50,h:50},scrollVelocity:{x:50,y:50},scrollUpdateThrottle:100},n=r.scrollZoneSize,i=r.scrollVelocity,o=r.scrollUpdateThrottle,l=e4()(function(){var r=t.getClientOffset();if(!r)return[0,0];var o=r.x,l=r.y,a=e.getBoundingClientRect(),u=a.x,c=a.y,s=a.width,f=a.height,d=Math.min(s/2,n.w),p=Math.min(f/2,n.h),h=function(e,t){var r=(0,g._)(t,2),n=r[0],i=r[1];return e8()(e,n[0],n[1])?(e-n[1])/(n[1]-n[0]):e8()(e,i[0],i[1])?(e-i[0])/(i[1]-i[0]):0};return[h(o,[[u,u+d],[u+s-d,u+s]])*i.x,h(l,[[c,c+p],[c+f-p,c+f]])*i.y]},o,{trailing:!1})();if(l){var a=(0,g._)(l,2),u=a[0],c=a[1];if(0!==u||0!==c){var s=e.scrollLeft,f=e.scrollTop,d=e.scrollWidth,p=e.scrollHeight,h=e.clientWidth,v=e.clientHeight;requestAnimationFrame(function(){e.scrollTop=(0,te.E)(0,d-h,s+u),e.scrollTop=(0,te.E)(0,p-v,f+c)})}}}(i.current,r);var u=r.getClientOffset();if(u){var c=t({x:u.x-l.x,y:u.y-l.y+a()});c?"file"===c.row.type||"uploadFile"===c.row.type?n.current=(0,w._6)(c.row.path)||S.Dl:"dir"===c.row.type?n.current=c.row.path:n.current=c.row.dir:n.current=D();var s="nodes"!==e.type||(0,w.Ag)(e.nodes).every(function(e){var t;return tE(e,null!=(t=n.current)?t:D())});if(y(s),(null==c?void 0:c.row.type)!=="dir"){b.current&&(clearTimeout(b.current.timer),b.current=null);return}var f=c.row.path;if(b.current){if(b.current.dir===f)return;clearTimeout(b.current.timer),b.current=null}if(s){var d=setTimeout(function(){var e;null!=(e=x().get(f))&&e.expanded||U(f)},400);b.current={dir:f,timer:d}}}}},drop:function(e,t){var r,i=null!=(r=n.current)?r:D();if("nodes"===e.type){m({to:i,nodes:e.nodes}),n.current=null;return}e.dirContent.then(function(e){var t=e.reduce(function(e,t){return t.size+e},0);return e.length>tt.Qq?void l("Trying to upload too many files at once. Please try again with fewer files."):t>tt.wr?void l("Total file upload size exceeds maximum limit. Please try again with smaller files."):void v({parentPath:i===S.Dl?void 0:i,files:e.filter(Boolean),onError:l})}),n.current=null},collect:function(e){return{isOver:e.isOver()}}}},[]),2))[0].isOver,R=E[1],Y=eG(tX),(0,f.useEffect)(function(){if(Y(C),C){var e,t=null==(e=i.current)?void 0:e.getBoundingClientRect();o.current=t?{x:t.x,y:t.y}:null,t&&_({width:t.width,height:t.height});return}b.current&&(clearTimeout(b.current.timer),b.current=null),n.current=null,r(null)},[Y,C,r,_]),P=eG(tz),(0,f.useEffect)(function(){var e=i.current;if(e){var t=e4()(function(){P(e.scrollTop)},200);return e.addEventListener("scroll",t),function(){t.cancel(),e.removeEventListener("scroll",t)}}},[P]),{dropRef:A?void 0:R,containerRef:i}),Z=N.dropRef,H=N.containerRef,W=eG(ek),j=ej(X),B=ej(O);F=eG(eM),k=eB(eY),(0,f.useEffect)(function(){var e=function(){k.current&&F(k.current)};return e(),k.subscribe(e)},[k,F]);var G=(0,p.S)([e.scrollRef,Z,H],{breadcrumb:"client/workspace/components/Filetree/index.tsx:163"});return(0,s.FD)(tI.S,{css:r8.content,px:2,innerRef:G,onKeyDown:M,onContextMenu:j?function(e){e.target===e.currentTarget&&j(e,{type:d.pt.Directory,path:B})}:void 0,onClick:function(e){e.target===e.currentTarget&&W()},children:[(0,s.Y)(r6,{}),(0,s.FD)(tI.S,{css:r8.scroll,role:"tree",children:[(0,c._)(I.values()).map(function(e){var t=e.key,r=e.index;return(0,s.Y)(r4,{index:r},t)}),(0,s.Y)(nr,{}),(0,s.Y)(tZ,{}),(0,s.Y)(tJ,{})]})]})}),nt=(0,f.memo)(function(){var e,t,r,n,i,o,l,a,u,p,h,g,y,w,b,x,D,S,_,U,A=(t=(0,f.useRef)(null),r=ej(ev),n=eK(ev),i=eK(J),o=(0,ta.A)(function(){return function(e){var t=n()[e];return t?$(i(),t.type):0}},[n,i]),l=eK(V),a=eB(eg),u=(0,f.useRef)(ej(Z)),p=(0,tr.Te)({count:r.length,overscan:null!=(e=l().overscan)?e:100,getScrollElement:function(){return t.current},getItemKey:function(e){var t=r[e];return t?"error"===t.type?"error:"+t.dir+t.message:"divider"===t.type?"divider:"+t.dir+t.label:"emptyDir"===t.type?"emptyDir:"+t.dir:"create"===t.type?"create:"+t.dir:t.type+":"+t.path:""},estimateSize:o,rangeExtractor:function(e){var t=(0,tn.vp)(e);return null===a.current||t.includes(a.current)||void 0===r[a.current]?t:(0,c._)(t).concat([a.current])}}),(0,f.useEffect)(function(){u.current&&p.scrollToOffset(u.current)},[p,u]),h=eG(K),g=p.getVirtualItems(),y=p.getTotalSize(),(0,f.useEffect)(function(){h({rows:g,scrollHeight:y})},[h,g,y]),w=ej(G),(0,f.useEffect)(function(){if(w){var e=function(e){null!==e&&p.getVirtualItems()[e]&&p.scrollToIndex(e,{align:"auto",behavior:"auto"})};return setTimeout(function(){return e(a.current)}),a.subscribe(e)}},[p,a,w]),b=eG(ez),(0,f.useEffect)(function(){b(p)},[b,p]),{scrollRef:t,virtualizer:p}).scrollRef;return x=eB(eV),D=eK(V),(0,f.useEffect)(function(){return x.subscribe(function(e){if(e){var t=D(),r=t.readOnly,n=t.onDeleteNodes,i=t.fs;!r&&n&&n({nodes:e,confirm:function(){return(0,v._)(function(){return(0,m.YH)(this,function(t){switch(t.label){case 0:return[4,Promise.all(e.map(function(e){return e.type===d.pt.Directory?i.deleteDir(e.path):i.deleteFile(e.path)}))];case 1:return[2,{error:t.sent().filter(function(e){return e.error}).length?"Something went wrong deleting files":null}]}})})()}})}})},[D,x]),S=ej(t6),_=eB(ef),U=eG(t9),(0,f.useEffect)(function(){if(S){var e,t,r=null,n=null!=(e=window.requestIdleCallback)?e:window.requestAnimationFrame,i=null!=(t=window.cancelIdleCallback)?t:window.cancelAnimationFrame,o=tQ()(function(){r&&i(r),r=n(U)},1e3),l=_.subscribe(o);return document.addEventListener("visibilitychange",U),document.addEventListener("beforeunload",U),function(){o.cancel(),r&&i(r),document.removeEventListener("visibilitychange",U),document.removeEventListener("beforeunload",U),l(),U()}}},[S,_,U]),(0,s.Y)(ne,{scrollRef:A})}),nr=(0,f.memo)(function(){var e=ej(B),t=eG(eb);return(0,s.Y)(s.FK,{children:e.map(function(e){return(0,s.Y)(tI.S,{tag:"button",onClick:function(){return t(e.dir)},css:r8.gutter,style:{height:e.height,transform:"translate(calc(".concat(e.depth," * ").concat(tm.gutterWidth,"), ").concat(e.y,"px)")},children:(0,s.Y)(tI.S,{})},"gutter"+e.dir+e.depth+e.y)})})});function nn(e){var t,r,n;return t=(0,e7.A)().showError,r=(0,g._)((0,f.useState)(function(){var r,n,i,o,l=(0,y.y$)();l.set(V,e);var a=null!=(r=e.root)?r:S.Dl,u=e.localCacheKey?(i=e.localCacheKey,o=t0.A.get(t4(i)),e2.J(t5,o)?{dirInfo:new Map(Object.entries(o.dirInfo)),scrollOffset:o.scrollOffset}:null):null;u&&l.set(Z,u.scrollOffset);var c=null!=(n=null==u?void 0:u.dirInfo)?n:new Map;return c.has(a)||c.set(a,{expanded:!0}),l.set(ef,c),e.focusedPath&&l.set(M,e.focusedPath),{store:l,create:function(e,t){if(t)return void l.set(eU,{parentPath:t,fileType:e});var r=a,n=l.get(eR);(null==n?void 0:n.type)===d.pt.File?r=(0,w._6)(n.path)||S.Dl:(null==n?void 0:n.type)===d.pt.Directory&&(r=n.path),l.set(eU,{parentPath:r,fileType:e})},setPresenceState:function(e){l.set(I,e)},setFileStatus:function(e){l.set(N,e)},rename:function(e){l.set(W,e)},move:function(e){l.set(tC,e)},upload:function(e){l.set(tY,(0,re._)((0,t8._)({},e),{onError:t}))},onLoad:function(t){var r=e.fs.watchDir(a,{onChange:function(){t({error:null}),r()},onError:function(e){t({error:e}),r()}});return r},select:function(e){return null===e?l.set(ek):l.set(eT,e)},scrollToPath:function(e){return l.set(eM,e)},hasLocalCache:!!u,getChildren:function(e){var t,r;return null!=(r=null==(t=l.get(ef).get(e))?void 0:t.children)?r:null},getSelectedNode:function(){return l.get(eR)},getSelectedNodes:function(){return l.get(eC)},deleteNodes:function(e){l.set(eX,e)},collapse:function(e){return l.set(eb,e)},getExpandedDirs:function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S.Dl,r=new Set,n=!0,i=!1,o=void 0;try{for(var l,a=e[Symbol.iterator]();!(n=(l=a.next()).done);n=!0){var u=(0,g._)(l.value,2),c=u[0],s=u[1];c!==t&&s.expanded&&(t===S.Dl||(0,_.hL)(t,c))&&r.add(c)}}catch(e){i=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}return 0===r.size?null:r}(l.get(ef),e)},expandParentDirsToPath:function(e){var t=(0,r9.q)(e).slice(0,-1),r=!0,n=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var u=o.value;l.set(eD,u)}}catch(e){n=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw i}}}}}),1)[0],(0,f.useEffect)(function(){r.store.set(V,e)},[r.store,e]),(0,f.useEffect)(function(){var e=!0,t=!1,n=void 0;try{for(var i,o=r.store.get(ef)[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var l=(0,g._)(i.value,2),a=l[0];l[1].expanded&&r.store.set(eD,a)}}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}return function(){var e=!0,t=!1,n=void 0;try{for(var i,o=r.store.get(ef)[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var l,a=(0,g._)(i.value,2),u=(a[0],a[1]);null==(l=u.disposeWatcher)||l.call(u)}}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}}},[r.store]),n=(0,rl.A)(e.onLoad),(0,f.useEffect)(function(){return r.onLoad(function(e){var t;return null==(t=n.current)?void 0:t.call(n,e)})},[r,n]),r}function ni(e){return(0,s.Y)(eH,{store:e.store,children:(0,s.Y)(nt,{})})}},47841:(e,t,r)=>{"use strict";r.d(t,{CP:()=>b,J0:()=>f.J0,Q4:()=>w.Q4,xi:()=>y.xi,Ne:()=>y.Ne,rM:()=>f.rM,vO:()=>f.vO,u6:()=>y.u6,F9:()=>m,W9:()=>c,xu:()=>y.xu,Qd:()=>y.Qd,RF:()=>g,gi:()=>s,Av:()=>y.Av});var n=r(34837),i=r(12694),o=r(21462),l=r(76957),a=r(49313),u=(0,l.eU)(null);function c(){return(0,a.h)(u)}function s(){return(0,a.ob)(u)}var f=r(6506),d=r(35992),p=r(860),h=(0,l.eU)(new Map),v=(0,l.eU)(null,function(e,t,r){t(h,function(e){return(0,d.jM)(e,function(e){r.indicatorType?e.set(r.paneType,r.indicatorType):e.delete(r.paneType)})})});function g(){return(0,a.ob)(v)}function m(e){var t=e.paneType;return(0,a.h)((0,p.A)(function(){return(0,l.eU)(function(e){return t?e(h).get(t):void 0})},[t]))}var y=r(70552),w=r(19170);function b(e){var t=(0,i._)((0,o.useState)(function(){return(0,l.y$)()}),1)[0];return(0,n.Y)(a.IC.Provider,{value:t,children:e.children})}},48409:(e,t,r)=>{"use strict";r.d(t,{Df:()=>g,xS:()=>p});var n=r(17844),i=r(12584),o=r(41114),l=r(54744),a=r(41991),u=r(53524);function c(){var e=(0,i._)(["\n  fragment PublishReplData on Repl {\n    id\n    url\n    title\n    description\n    iconUrl\n    publishedAs\n    imageUrl\n    isRenamed\n    templateInfo {\n      iconUrl\n    }\n    replViewSettings {\n      id\n      defaultView\n      replImage\n      replFile\n    }\n    authorizations {\n      editMetadata {\n        isAuthorized\n      }\n      editFileContents {\n        isAuthorized\n      }\n      publish {\n        isAuthorized\n      }\n    }\n    ...CrosisContextRepl\n    ...PublishedReplShareInfoReplData\n  }\n  ","\n  ","\n"]);return c=function(){return e},e}function s(){var e=(0,i._)(["\n  fragment PublishCurrentUser on CurrentUser {\n    id\n    image\n    isTemplateDeveloper: hasRole(role: TEMPLATE_DEVELOPER)\n    ...CrosisContextCurrentUser\n  }\n  ","\n"]);return s=function(){return e},e}function f(){var e=(0,i._)(["\n  query PublishCurrentUser {\n    currentUser {\n      id\n      ...PublishCurrentUser\n    }\n  }\n  ","\n"]);return f=function(){return e},e}var d={},p=(0,o.J1)(c(),a.c,u.E),h=(0,o.J1)(s(),a.N),v=(0,o.J1)(f(),h);function g(e){var t=(0,n._)({},d,e);return l.I(v,t)}},53524:(e,t,r)=>{"use strict";r.d(t,{E:()=>o});var n=r(12584);function i(){var e=(0,n._)(["\n  fragment PublishedReplShareInfoReplData on Repl {\n    id\n    url\n    publishedAs\n    title\n  }\n"]);return i=function(){return e},e}var o=(0,r(41114).J1)(i())},53899:(e,t,r)=>{"use strict";r.d(t,{DO:()=>n,sV:()=>o,uZ:()=>i});var n=function(e){return e.NotFound="NOT_FOUND",e.ParseError="PARSE_ERROR",e.Disconnected="DISCONNECTED",e.Unknown="UNKOWN_ERROR",e}({}),i=function(e){return e.ChannelClosed="CHANNEL_CLOSED",e.JSONParseError="JSON_PARSE_ERROR",e.NotFound="NOT_FOUND",e.TOMLParseError="TOML_PARSE_ERROR",e.OpType="OP_TYPE",e.CouldNotWrite="COULD_NOT_WRITE",e.ReadLine="COULD_NOT_READ_LINE",e.Unknown="UNKNOWN_ERROR",e}({}),o=function(e){return e.CHANGE="CHANGE",e.CHANNEL_OPENED="CHANNEL_OPENED",e}({})},56141:(e,t,r)=>{"use strict";r.d(t,{D:()=>L});var n=r(83846),i=r(53847),o=r(12694),l=r(34837),a=r(21462),u=r(59270),c=r(36163),s=r(49555),f=r(18558),d=r(40115),p=r(46138),h=r(67312),v=r(42793),g=r(39534),m=r(70764),y=r(51292),w=r(19944),b=r(18712),x=r(32289),D=r(36946),S=r(3937),_=r(25227),U=r(81512),A=r(24529);function E(e){var t=e.node;return t.type===s.pt.Directory?(0,l.Y)(A.A,{size:12}):(0,l.Y)(x.A,{size:12,path:t.path})}var C=(0,w.v)(["menuY","menuX"]),R=C.cssVars,Y=C.styleTokens,P=(0,m.x)({root:[b.wp.maxHeight(400),b.wp.position.absolute,b.wp.borderRadius(8),b.wp.shadow(3),{border:"1px solid",borderColor:g.LU.outlineDefault,top:Y.menuY,left:Y.menuX,"& > div":[b.wp.maxHeight(400)]}]}),F=(0,v.AH)([y.b.nofill,{transitionProperty:"background-color, box-shadow, opacity",opacity:.8,":focus":{zIndex:1,opacity:1}}]),k={button:(0,v.AH)([b.wp.reset.button,b.wp.p(2),b.wp.rowWithGap(4),b.wp.align.center,F]),text:(0,v.AH)({fontSize:g.LU.fontSizeSmall})},I={opacity:1};function T(e){var t,r=e.node,s=e.openFile,d=e.expandable,p=void 0===d||d,h=(0,o._)((0,a.useState)(!1),2),v=h[0],g=h[1],m=(0,a.useRef)(null),y=(0,f.A)(function(e){var t;v&&((0,i._)(e.target,HTMLElement)&&(null==(t=m.current)?void 0:t.contains(e.target))||g(!1))},[v]),w=(0,a.useId)(),b=(0,a.useId)(),x=(0,u._6)(r.path)||c.Dl,U=(0,u.WP)(r.path);function A(){var e,t=null==(e=m.current)?void 0:e.getBoundingClientRect();t&&p&&g({x:t.x+"px",y:t.y+t.height+4+"px"})}return(0,l.FD)(l.FK,{children:[(0,l.FD)(_.S,{innerRef:m,tag:"button",id:w,style:v?I:void 0,"aria-haspopup":"true","aria-expanded":!!v,"aria-controls":b,css:k.button,onClick:function(){p&&(v?g(!1):A())},onKeyDown:function(e){switch(e.key){case" ":case"Enter":case"ArrowDown":if(!p)return;A()}},children:[(0,l.Y)(E,{node:r}),(0,l.Y)(_.S,{css:k.text,children:U})]}),v&&p?(0,l.Y)(D.Z,{children:(0,l.Y)(S.ui,{id:b,css:P.root,innerRef:y,style:(t={},(0,n._)(t,R.menuX,v.x),(0,n._)(t,R.menuY,v.y),t),onKeyDown:function(e){if("Escape"===e.key){var t;g(!1),null==(t=m.current)||t.focus()}},children:(0,l.Y)(z,{openFile:s,parentPath:x,currentPath:r.path,readOnly:e.readOnly})})}):null]})}function z(e){var t=(0,d.A)().fs,r=(0,h.J)(!0),n=(0,a.useCallback)(function(e){return!r(e.filename)},[r]),i=(0,p.u)({fs:t,filter:n,focusedPath:e.currentPath,fontSize:13,root:e.parentPath,manageWidth:!0,onFileSelect:function(t){var r=t.path;e.openFile(r)},alwaysShowCreateRow:!0,readOnly:e.readOnly});return(0,l.Y)(p.J,{store:i.store})}var M=(0,v.AH)([b.wp.flex.row,b.wp.align.center,b.wp.height("100%"),b.wp.px(2)]),L=(0,a.memo)(function(e){var t,r,n=e.path,i=e.onFileClick,o=e.expandable,u=void 0===o||o,c=e.readOnly,f=e.children,d=(r=(t=n.split("/")).length,t.map(function(e,n){return{type:n===r-1?s.pt.File:s.pt.Directory,path:t.slice(0,n+1).join("/")}}));return(0,l.FD)(_.S,{css:M,children:[d.map(function(e){return(0,l.FD)(a.Fragment,{children:[(0,l.Y)(T,{node:e,openFile:i,expandable:u,readOnly:c}),e.type===s.pt.Directory?(0,l.Y)(U.A,{size:12}):null]},CSS.escape(e.path))}),f||null]})})},58226:(e,t,r)=>{"use strict";r.d(t,{PX:()=>i});var n=r(74651),i=function(e){return e.UNTRACKED="UNTRACKED",e.UNMODIFIED="UNMODIFIED",e.MODIFIED="MODIFIED",e.TYPE_CHANGED="TYPE_CHANGED",e.ADDED="ADDED",e.DELETED="DELETED",e.RENAMED="RENAMED",e.COPIED="COPIED",e.UNMERGED="UNMERGED",e}({}),o=n.ZU.Enum(i),l=n.ZU.Object({type:n.ZU.Object({index:o,worktree:o}),path:n.ZU.String(),staged:n.ZU.Boolean(),unmerged:n.ZU.Boolean(),source:n.ZU.Optional(n.ZU.Object({type:n.ZU.Union([n.ZU.Literal("RENAMED"),n.ZU.Literal("COPIED")]),score:n.ZU.Number(),path:n.ZU.String()}))});n.ZU.Object({commit:n.ZU.Union([n.ZU.String(),n.ZU.Null()]),branch:n.ZU.Union([n.ZU.String(),n.ZU.Null()]),upstream:n.ZU.Union([n.ZU.Null(),n.ZU.Object({branch:n.ZU.String(),ahead:n.ZU.Number(),behind:n.ZU.Number()})]),stashes:n.ZU.Number(),changes:n.ZU.Array(l)})},59784:(e,t,r)=>{"use strict";r.d(t,{R:()=>a});var n=r(34837),i=r(3937),o=r(38693),l=r.n(o);function a(e){var t=e.className,r=e.children;return(0,n.Y)(i.ui,{elevated:!0,tag:"span",px:4,clsx:[l().surface,t],children:r})}},61125:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(21462),i=r(46356);function o(){var e=(0,n.useContext)(i.A);if(!e)throw Error("Expected Repl ID to be in context");return e}},64850:(e,t,r)=>{"use strict";r.d(t,{$:()=>g,o:()=>v});var n=r(12694),i=r(21462),o=r(74651),l=r(97858),a=r(20907),u=r(53899),c=r(61125),s=r(860),f=r(58631),d=o.ZU.Array(o.ZU.String()),p=function(e){return"repl:hiddenFiles:"+e},h={get:function(e){var t=f.A.get(p(e));return l.J(d,t)?t:null},set:function(e,t){f.A.set(p(e),t)}},v=function(e){var t=(0,c.A)(),r=(0,n._)((0,i.useState)(function(){return h.get(t)}),2),o=r[0],l=r[1];return(0,i.useEffect)(function(){return e.watch(function(e){var r=function(e){h.set(t,e),l(e)};if(e.error){e.error===u.DO.NotFound&&r([]);return}if(!e.config.hidden)return void r([]);r(e.config.hidden)})},[e,t]),o},g=function(e){var t=v(e);return(0,s.A)(function(){return null===t?null:t.map(function(e){return(0,a.tL)(e)||e})},[t])}},65511:(e,t,r)=>{"use strict";r.d(t,{U:()=>o});var n=r(63806),i=r(36163);function o(e){var t=e.siblingNames,r=e.fileName,o=e.initialValue,l=e.parentPath;if(r.includes("/"))return"File names cannot include forward slashes";if("."===r||".."===r)return'File names cannot be "'.concat(r,'"');if(r.match(/^\s/)||r.match(/\s$/))return"File names cannot start or end with whitespace";if(o!==r&&t.includes(r))return"A file or folder with that name already exists";if(r.length>100)return"File names cannot be longer than 100 characters";var a=l===i.Dl?r:l+"/"+r;return(0,n.RZ)(a)?'"'.concat(a,'" is reserved'):null}},67312:(e,t,r)=>{"use strict";r.d(t,{J:()=>c});var n=r(21462),i=r(63806),o=r(41390),l=r(64850),a=r(40115),u=r(47841),c=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,a.A)().dotReplit,r=(0,l.$)(t),c=(0,u.xi)();return(0,n.useCallback)(function(t){return!!(0,o.yU)(t)||!!e&&!c&&((0,o.rp)(t)||(0,i.RZ)(t)||(0,i._L)(t)||(0,o.Mo)(t,r))},[c,r,e])}},68075:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(17844),i=r(93629),o=r(34837),l=r(25590);function a(e){return(0,o.Y)(l.Ay,(0,i._)((0,n._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M2.25 4.5A2.25 2.25 0 0 1 4.5 2.25h15a2.25 2.25 0 0 1 2.25 2.25v3c0 .576-.217 1.102-.573 1.5.356.398.573.924.573 1.5v3c0 .576-.217 1.102-.573 1.5.356.398.573.924.573 1.5v3a2.25 2.25 0 0 1-2.25 2.25h-11a2.25 2.25 0 0 1-2.25-2.25v-3c0-.576.217-1.102.573-1.5a2.242 2.242 0 0 1-.573-1.5v-3c0-.263.045-.515.128-.75H4.5A2.25 2.25 0 0 1 2.25 7.5v-3ZM19.5 8.25a.75.75 0 0 0 .75-.75v-3a.75.75 0 0 0-.75-.75h-15a.75.75 0 0 0-.75.75v3c0 .414.336.75.75.75h15Zm-11 1.5a.75.75 0 0 0-.75.75v3c0 .414.336.75.75.75h11a.75.75 0 0 0 .75-.75v-3a.75.75 0 0 0-.75-.75h-11Zm11 6h-11a.75.75 0 0 0-.75.75v3c0 .414.336.75.75.75h11a.75.75 0 0 0 .75-.75v-3a.75.75 0 0 0-.75-.75Z",clipRule:"evenodd"})}))}},70111:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(17844),i=r(93629),o=r(34837),l=r(25590);function a(e){return(0,o.Y)(l.Ay,(0,i._)((0,n._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M20.593 10.91a1.25 1.25 0 0 1 0 2.18l-14.48 8.145a1.25 1.25 0 0 1-1.863-1.09V3.855a1.25 1.25 0 0 1 1.863-1.09l14.48 8.146Z",clipRule:"evenodd"})}))}},70117:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(17844),i=r(93629),o=r(34837),l=r(25590);function a(e){return(0,o.Y)(l.Ay,(0,i._)((0,n._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M4 21.75A2.75 2.75 0 0 1 1.25 19V5A2.75 2.75 0 0 1 4 2.25h5a.75.75 0 0 1 .624.334l1.777 2.666H20A2.75 2.75 0 0 1 22.75 8v1.213c.835.559 1.34 1.56 1.2 2.643l-.98 7.5a2.75 2.75 0 0 1-2.726 2.394H4ZM3.116 4.116A1.25 1.25 0 0 1 4 3.75h4.599l1.777 2.666A.75.75 0 0 0 11 6.75h9A1.25 1.25 0 0 1 21.25 8v.75H5.256a2.75 2.75 0 0 0-2.506 1.617V5c0-.332.132-.65.366-.884ZM4.278 20.25h15.966a1.25 1.25 0 0 0 1.24-1.088l.978-7.5a1.25 1.25 0 0 0-1.24-1.412H5.256a1.25 1.25 0 0 0-1.24 1.088l-.978 7.5a1.25 1.25 0 0 0 1.24 1.412Z",clipRule:"evenodd"})}))}},70552:(e,t,r)=>{"use strict";r.d(t,{Av:()=>b,Cv:()=>A,Ne:()=>_,Qd:()=>y,nb:()=>S,rN:()=>D,u6:()=>m,xi:()=>h,xu:()=>v});var n=r(12694),i=r(86105),o=r(21462),l=r(76957),a=r(69737),u=r(41409),c=r(61125),s=r(58631),f=r(49313),d=(0,a.KU)(function(){return{getItem:function(e){return s.A.get(e,"string")},setItem:function(e,t){return s.A.set(e,t)},removeItem:function(e){return s.A.remove(e)}}}),p=(0,a.tG)("areHiddenFilesVisible",!1,d);function h(){return(0,f.h)(p)}function v(){return(0,f.ob)(p)}var g=(0,l.eU)(null);function m(){return(0,f.Ou)(g)}function y(){return(0,f.ob)(g)}var w=(0,l.eU)((0,u.F)(!1));function b(){return(0,f.h)(w)}var x=(0,l.eU)(!1);function D(){return(0,f.h)(x)}function S(){return(0,f.ob)(x)}function _(){var e=(0,c.A)(),t=e?"".concat("auth-blueprint-approved",":").concat(e):null;return[!!t&&"true"===s.A.get(t,"string"),(0,o.useCallback)(function(e){t&&s.A.set(t,e?"true":"false")},[t])]}var U=(0,l.eU)([]);function A(e){var t=(0,c.A)(),r=(0,f.h)(U),l=(0,f.ob)(U),a="ws-tool-added-to-dock:".concat(e,":").concat(t),u=(0,n._)((0,o.useState)(function(){return s.A.get(a,"string")}),2),d=u[0],p=u[1],h=(0,o.useCallback)(function(t){s.A.set(a,t),p(t),"was-added-by-agent"!==t||r.includes(e)||l((0,i._)(r).concat([e]))},[a,r,l,e]),v=(0,o.useCallback)(function(){h("callout-dismissed"),l(r.filter(function(t){return t!==e}))},[r,e,l,h]);return{toolState:d,setToolState:h,dismissCallout:v,showCallout:"was-added-by-agent"===d&&r.length>0&&r[0]===e}}},71687:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(17844),i=r(93629),o=r(34837),l=r(25590);function a(e){return(0,o.Y)(l.Ay,(0,i._)((0,n._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M11.47 4.47a.75.75 0 0 1 1.06 0l7 7a.75.75 0 1 1-1.06 1.06l-5.72-5.72V19a.75.75 0 0 1-1.5 0V6.81l-5.72 5.72a.75.75 0 0 1-1.06-1.06l7-7Z",clipRule:"evenodd"})}))}},72138:(e,t,r)=>{"use strict";r.d(t,{P:()=>o});var n=r(21462),i=r(72562);function o(e){(0,n.useEffect)(function(){e((0,i.n)(),{captureDraggingState:!0})},[e])}},74955:(e,t,r)=>{"use strict";r.d(t,{A:()=>y});var n=r(83846),i=r(17844),o=r(93629),l=r(34837),a=r(70764),u=r(19944),c=r(18712),s=r(31051),f=r(90233),d=r(25227),p=(0,u.v)(["size","fontSize","listGap","iconTextGap","avatarOverlap","tooltipFontSize"]),h=p.styleTokens,v=p.cssVars,g=(0,a.x)({avatarsRow:[{"& > *":{marginLeft:"calc(-0.4 * ".concat(h.size,")")},"& > *:first-child":{marginLeft:0}}],countCirlce:[c.wp.center,c.wp.overflow("hidden"),c.wp.backgroundColor.backgroundDefault,c.wp.color.foregroundDimmer,c.wp.px(2),{borderRadius:"50%",minWidth:h.size,height:h.size,fontSize:h.fontSize}],tooltop:[{gap:h.listGap,gridTemplateColumns:"repeat(auto-fill, 200px)"}],tooltipText:[c.wp.truncate,c.wp.color.foregroundDimmer,{paddingLeft:h.iconTextGap,fontSize:h.tooltipFontSize}],stackItem:[]}),m={12:{fontSize:8,listGap:2,iconTextGap:2,tooltipAvatarSize:12,tooltipFontSize:8},16:{fontSize:10,listGap:2,iconTextGap:2,tooltipAvatarSize:16,tooltipFontSize:10},24:{fontSize:12,listGap:4,iconTextGap:4,tooltipAvatarSize:16,tooltipFontSize:12},32:{fontSize:14,listGap:4,iconTextGap:4,tooltipAvatarSize:16,tooltipFontSize:14},40:{fontSize:16,listGap:8,iconTextGap:4,tooltipAvatarSize:24,tooltipFontSize:14},48:{fontSize:24,listGap:8,iconTextGap:4,tooltipAvatarSize:24,tooltipFontSize:14}};function y(e){var t,r,a,u,c,p,h,y,w,b=e.activeUsers,x=e.visibleNumOfUsers,D=void 0===x?3:x,S=e.size,_=void 0===S?24:S,U=b.length,A=(w={},(0,n._)(w,v.size,_+"px"),(0,n._)(w,v.fontSize,(null!=(c=null==(t=m[_])?void 0:t.fontSize)?c:_)+"px"),(0,n._)(w,v.listGap,(null!=(p=null==(r=m[_])?void 0:r.listGap)?p:8)+"px"),(0,n._)(w,v.iconTextGap,(null!=(h=null==(a=m[_])?void 0:a.iconTextGap)?h:8)+"px"),(0,n._)(w,v.tooltipFontSize,(null!=(y=null==(u=m[_])?void 0:u.tooltipFontSize)?y:14)+"px"),w),E=U>D,C=b.slice(0,E?D-1:D);return(0,l.Y)(f.m_,{tooltip:(0,l.Y)(d.S,{css:g.tooltop,style:A,children:b.map(function(e){var t;return(0,l.FD)(d.S,{row:!0,gap:2,align:"center",children:[(0,l.Y)(s.e,{size:(null==(t=m[_])?void 0:t.tooltipAvatarSize)||_,src:e.image||null,ringColor:e.color,username:e.username},e.id),(0,l.Y)(d.S,{css:g.tooltipText,grow:!0,shrink:!0,children:e.username})]},e.username)})}),children:function(e,t){return(0,l.FD)(d.S,(0,o._)((0,i._)({},e),{tag:"ul",innerRef:t,css:g.avatarsRow,row:!0,style:A,children:[C.map(function(e,t){return(0,l.Y)(d.S,{tag:"li",style:{zIndex:t+1},css:g.stackItem,children:(0,l.Y)(s.e,{size:_,src:e.image||null,ringColor:e.color,username:e.username})},e.id)}),E?(0,l.Y)(d.S,{tag:"li",css:g.stackItem,style:{zIndex:C.length},children:(0,l.Y)(d.S,{css:g.countCirlce,children:(0,l.FD)(d.S,{children:["+",U-D+1]})})}):null]}))}})}},77898:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(17844),i=r(93629),o=r(34837),l=r(25590);function a(e){return(0,o.FD)(l.Ay,(0,i._)((0,n._)({},e),{children:[(0,o.Y)("path",{fill:"url(#paint0_linear_7101_264)",fillRule:"evenodd",d:"M24 3.429a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0ZM6.857 12A3.429 3.429 0 1 0 0 12a3.429 3.429 0 0 0 6.857 0ZM3.43 0a3.429 3.429 0 0 1 3.428 3.429v.027a5.143 5.143 0 0 0 5.14 5.115H12a3.429 3.429 0 1 1 0 6.858h-.007a5.143 5.143 0 0 0-5.136 5.116v.026a3.429 3.429 0 1 1-3.428-3.428h.004a5.143 5.143 0 0 0-.005-10.286 3.429 3.429 0 0 1 0-6.857Zm12 3.429a3.429 3.429 0 1 0-3.43 3.428 5.143 5.143 0 0 1 .005 10.286H12a3.429 3.429 0 1 0 3.429 3.428v-.027a5.143 5.143 0 0 1 5.135-5.115h.007a3.429 3.429 0 1 0 0-6.858h-.003a5.143 5.143 0 0 1-5.14-5.106V3.43Zm5.142 13.714a3.429 3.429 0 1 1 0 6.857 3.429 3.429 0 0 1 0-6.857Z",clipRule:"evenodd"}),(0,o.Y)("defs",{children:(0,o.FD)("linearGradient",{id:"paint0_linear_7101_264",x1:"0",x2:"24",y1:"0",y2:"24",gradientUnits:"userSpaceOnUse",children:[(0,o.Y)("stop",{stopColor:"#A694FF"}),(0,o.Y)("stop",{offset:"1",stopColor:"#795EFF"})]})})]}))}},82120:(e,t,r)=>{"use strict";r.d(t,{Qq:()=>l,Yv:()=>i,rX:()=>o});var n=r(86105);function i(e,t){for(var r=0;r<t.length;r+=1e4)e.push.apply(e,(0,n._)(t.slice(r,r+1e4)))}function o(e){return(0,n._)(Array(e))}function l(e,t){return Array.from(new Set(e.map(function(e){return e[t]}))).map(function(r){return e.find(function(e){return e[t]===r})}).filter(function(e){return!!e})}},83215:(e,t,r)=>{"use strict";r.d(t,{Ni:()=>o,a4:()=>i,fp:()=>l,iY:()=>a});var n=Object.values(r(9828).A.multiplayer);function i(e){var t={};return n.forEach(function(e){t[e]=0}),e.forEach(function(e){t[e.color]++}),Object.keys(t).sort(function(e,r){return t[e]-t[r]})[0]}function o(e){var t=e.sessions.sort(function(e,t){return e.timestamp-t.timestamp}),r=!0,n=!1,i=void 0;try{for(var o,l=t[Symbol.iterator]();!(r=(o=l.next()).done);r=!0){var a=o.value;if(a.activeFile)return a.activeFile}}catch(e){n=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw i}}return null}function l(e,t){var r=t.find(function(t){return t.sessions.some(function(t){return t.id===e})});if(!r)throw Error("Expected user with session ID ".concat(e));return r}function a(e){var t=e.seconds,r=e.nanos;return Number(t||0)+(r||0)/1e9}},88166:(e,t,r)=>{"use strict";function n(e){return Math.log(e)*Math.LOG10E+1|0}function i(e,t,r){return Math.floor(Math.min(t,Math.max(e,r)))}r.d(t,{E:()=>i,V:()=>n})},88589:(e,t,r)=>{"use strict";r.d(t,{e:()=>d});var n=r(34837),i=r(42793),o=r(39534),l=r(18712),a=r(91953),u=(0,i.AH)([l.wp.flex.shrink(1),l.wp.fontSize("inherit"),{lineHeight:"inherit"}]),c=(0,i.AH)([u,l.wp.truncate]),s=(0,i.AH)([u]),f={normal:{matched:o.LU.foregroundDefault,unmatched:o.LU.foregroundDimmer},dimmed:{matched:o.LU.foregroundDimmer,unmatched:o.LU.foregroundDimmest}};function d(e){var t,r,i,l,u=null==(l=e.highlight)?void 0:l.filter(function(e){return e.to>0}),d=e.dimmed?f.dimmed:f.normal;return(null==u?void 0:u.length)?(0,n.Y)(a.EY,{className:e.className,css:e.multiline?s:c,children:(t=e.text,r=0,i=[],u.forEach(function(e){var n=e.from,o=e.to,l=t.slice(r,n);l&&i.push({text:l,match:!1});var a=t.slice(n,o);a&&i.push({text:a,match:!0}),r=o}),r<t.length&&i.push({text:t.slice(r),match:!1}),i).map(function(e,t){return(0,n.Y)("span",{style:{fontWeight:e.match?o.LU.fontWeightBold:o.LU.fontWeightRegular,color:e.match?d.matched:d.unmatched},children:e.text},e.text+t)})}):(0,n.Y)(a.EY,{className:e.className,style:{color:d.matched},css:e.multiline?s:c,children:e.text})}},95719:(e,t,r)=>{"use strict";r.d(t,{A:()=>p});var n=r(34837),i=r(11901),o=r(49367),l=r(18712),a=r(91953),u=r(25227),c=r(25590);function s(e){var t=e.count,r=e.children,i=e.tooltip,s=e.small,f=(0,o.$)(t);return(0,n.FD)(u.S,{"aria-label":i,"data-microtip-position":"left",role:"tooltip",css:[l.wp.color.foregroundDimmer,{userSelect:"none",lineHeight:1}],row:!0,gap:4,align:"center",children:[(0,n.Y)(c.Z_,{size:s?12:void 0,children:r}),(0,n.Y)(a.EY,{variant:s?"small":void 0,color:"dimmer",multiline:!1,children:f})]})}var f=r(7471),d=r(54139);function p(e){var t=e.repl;return(0,n.FD)(u.S,{row:!0,gap:16,align:"center",children:[(0,n.Y)(s,{small:!0,count:t.publicForkCount,tooltip:(0,i.A)("remix",t.publicForkCount),children:(0,n.Y)(d.A,{})}),(0,n.Y)(s,{small:!0,count:t.likeCount,tooltip:(0,i.A)("like",t.likeCount),children:(0,n.Y)(f.A,{})})]})}}}]);
//# sourceMappingURL=7122-bc36159c4972ad8f.js.map